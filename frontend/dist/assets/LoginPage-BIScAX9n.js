import{j as e}from"./state-vendor-BAyfclbw.js";import{u as B,b as M,r as m}from"./react-vendor-B0H9FLVV.js";import{h as T,I as w,S as D,z as b}from"./index-BOgsi-I6.js";import{S as O}from"./SEO-CzRH6sV6.js";import{m as h,A as R,a5 as P,a6 as q,a7 as F,K as H,a as J}from"./ui-vendor-y3VpOymC.js";const G=()=>{const y=B(),S=M(),{login:C,register:I}=T(),E=S.state?.from?.pathname||"/",[a,L]=m.useState(!0),[s,j]=m.useState({name:"",email:"",password:""}),[x,d]=m.useState({}),[u,p]=m.useState({}),[l,v]=m.useState(!1),k=()=>{L(!a),j({name:"",email:"",password:""}),d({}),p({})},c=(r,t)=>r==="email"?/\S+@\S+\.\S+/.test(t)?"":"Correo electrónico inválido":r==="password"?t.length>=6?"":"Mínimo 6 caracteres":r==="name"&&!a?t.length>=3?"":"Mínimo 3 caracteres":"",g=r=>{const{name:t,value:i}=r.target;j(o=>({...o,[t]:i})),u[t]&&d(o=>({...o,[t]:c(t,i)}))},f=r=>{const{name:t,value:i}=r.target;p(o=>({...o,[t]:!0})),d(o=>({...o,[t]:c(t,i)}))},z=async r=>{r.preventDefault();const t=c("email",s.email),i=c("password",s.password),o=a?"":c("name",s.name);if(t||i||o){p({email:!0,password:!0,name:!a}),d({email:t,password:i,name:o});return}v(!0);const N=b.loading(a?"Iniciando sesión...":"Creando cuenta...");try{await new Promise(A=>setTimeout(A,1e3));let n;if(a?n=C(s.email,s.password):n=I(s.name,s.email,s.password),n.success)b.success(a?"¡Bienvenido de nuevo!":"¡Cuenta creada con éxito!",{id:N}),y(E,{replace:!0});else throw new Error(n.message)}catch(n){b.error(n.message||"Ocurrió un error",{id:N}),v(!1)}};return e.jsxs("div",{className:"flex min-h-screen bg-white",children:[e.jsx(O,{title:a?"Iniciar Sesión":"Crear Cuenta",description:"Accede a tu cuenta de TechNova."}),e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 sm:p-12 lg:p-16 xl:p-24 relative",children:e.jsxs(h.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,ease:"easeOut"},className:"w-full max-w-sm mx-auto",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("h1",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:"TechNova"}),e.jsx(h.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 text-2xl font-bold text-slate-900",children:a?"Bienvenido de nuevo":"Crea tu cuenta"},a?"login-t":"reg-t"),e.jsx("p",{className:"mt-2 text-slate-500",children:a?"Ingresa tus credenciales para acceder.":"Únete para una experiencia de compra premium."})]}),e.jsxs("form",{className:"space-y-5",onSubmit:z,children:[e.jsx(R,{mode:"popLayout",children:!a&&e.jsx(h.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsx(w,{label:"Nombre Completo",name:"name",type:"text",placeholder:"John Doe",value:s.name,onChange:g,onBlur:f,error:x.name,touched:u.name,icon:P})})}),e.jsx(w,{label:"Correo Electrónico",name:"email",type:"email",placeholder:"nombre@ejemplo.com",value:s.email,onChange:g,onBlur:f,error:x.email,touched:u.email,icon:q}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{label:"Contraseña",name:"password",type:"password",placeholder:"••••••••",value:s.password,onChange:g,onBlur:f,error:x.password,touched:u.password,icon:F}),a&&e.jsx("div",{className:"flex justify-end mt-1",children:e.jsx("button",{type:"button",className:"text-xs font-medium text-slate-500 hover:text-slate-900",children:"¿Olvidaste tu contraseña?"})})]}),e.jsx(h.button,{type:"submit",disabled:l,whileHover:l?{}:{scale:1.01},whileTap:l?{}:{scale:.99},className:`
                w-full flex justify-center items-center py-4 rounded-xl text-sm font-bold text-white shadow-lg shadow-slate-900/10
                transition-all duration-300 mt-6
                ${l?"bg-slate-400 cursor-not-allowed":"bg-slate-900 hover:bg-slate-800"}
              `,children:l?e.jsx(H,{className:"animate-spin",size:20}):e.jsxs("span",{className:"flex items-center gap-2",children:[a?"Ingresar":"Registrarse"," ",e.jsx(J,{size:16})]})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-sm text-slate-500",children:[a?"¿No tienes cuenta?":"¿Ya tienes una cuenta?",e.jsx("button",{onClick:k,className:"ml-2 font-bold text-slate-900 hover:underline focus:outline-none",children:a?"Regístrate gratis":"Inicia sesión"})]})})]})}),e.jsxs("div",{className:"hidden lg:block lg:w-1/2 relative bg-slate-900 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent z-10"}),e.jsx(D,{src:"https://images.unsplash.com/photo-1497366811353-6870744d04b2?auto=format&fit=crop&w=1200&q=80",alt:"Minimalist Architecture",className:"w-full h-full object-cover opacity-90"}),e.jsxs("div",{className:"absolute bottom-16 left-16 z-20 max-w-lg",children:[e.jsx("blockquote",{className:"text-white text-3xl font-bold leading-tight mb-4",children:'"La simplicidad es la máxima sofisticación."'}),e.jsx("p",{className:"text-slate-300 font-medium",children:"— Leonardo da Vinci"})]})]})]})};export{G as default};
