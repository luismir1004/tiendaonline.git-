import{c as X,j as e}from"./state-vendor-C7RdAvCM.js";import{R as H,r as u,u as D,e as W}from"./react-vendor-2QdgEHnk.js";import{p as G,z as O,u as v,a as Z}from"./index-EUmTwGf3.js";import{r as J,S as K}from"./SmartImage-C9pcS1Sd.js";import{A as N,m as r,P as ee,i as te,B as se,L as ae,q as T,X as E,r as ie,s as le,t as re,v as ne,b as B,w as oe,j as R,u as ce,e as de,x as U,y as L,z as q,D as me,h as xe,E as ue}from"./ui-vendor-utBlUGSj.js";import{S as pe}from"./SEO-B0qwcuv7.js";import{u as he}from"./useProducts-B1Bvkgfu.js";const F=3,fe=X(G((s,n)=>({compareItems:[],isCompareBarOpen:!1,addItem:t=>{s(i=>i.compareItems.some(l=>l.id===t.id)?(O.info(`"${t.name}" ya est치 en tu lista de comparaci칩n.`),i):i.compareItems.length>=F?(O.error(`Solo puedes comparar hasta ${F} productos. Elimina uno para a침adir otro.`),i):(O.success(`"${t.name}" a침adido para comparar.`),{compareItems:[...i.compareItems,t],isCompareBarOpen:!0}))},removeItem:t=>{s(i=>{const l=i.compareItems.filter(m=>m.id!==t);return l.length<i.compareItems.length&&O.error("Producto eliminado de la comparaci칩n."),{compareItems:l,isCompareBarOpen:l.length>0}})},clearItems:()=>{s({compareItems:[],isCompareBarOpen:!1}),O("Lista de comparaci칩n vaciada.",{icon:"游빛"})},toggleCompareBar:()=>s(t=>({isCompareBarOpen:!t.isCompareBarOpen})),getCompareItems:()=>n().compareItems}),{name:"compare-storage",partialize:s=>({compareItems:s.compareItems})})),ge=({product:s,alt:n,priority:t=!1,className:i=""})=>{const{primary:l,backup:m,gradient:f}=u.useMemo(()=>J(s),[s]),[d,c]=u.useState("loading"),[b,o]=u.useState(l),[a,j]=u.useState(!1);u.useEffect(()=>{c("loading"),o(l),j(!1)},[l]);const w=()=>{if(d==="failed"||a){c("failed");return}b===l&&m&&l!==m?(console.warn(`[ProductImage] Primary failed. Switching to backup for ${s?.id}`),o(m),j(!0)):c("failed")};return e.jsxs("div",{className:`relative w-full h-full overflow-hidden ${i}`,style:{background:d==="failed"?f:"#f3f4f6"},children:[e.jsx(N,{children:d==="loading"&&e.jsx(r.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute inset-0 z-20 bg-slate-100 animate-pulse flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 bg-slate-200/50 rounded-full"})})}),d!=="failed"&&e.jsx(r.img,{initial:{opacity:0},animate:{opacity:d.includes("loaded")?1:0},transition:{duration:.5,ease:"easeOut"},src:b,alt:n||s?.name||"Product",loading:t?"eager":"lazy",fetchPriority:t?"high":"auto",decoding:"async",onLoad:()=>c(b===l?"primary_loaded":"backup_loaded"),onError:w,className:"w-full h-full object-cover transition-transform duration-700 hover:scale-105"}),d==="failed"&&e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 flex flex-col items-center justify-center p-4 text-center z-10",children:[e.jsx("div",{className:"bg-white/40 backdrop-blur-md p-3 rounded-full mb-3 shadow-sm",children:e.jsx(ee,{size:24,className:"text-slate-500",strokeWidth:1.5})}),e.jsx("span",{className:"text-[10px] font-bold text-slate-500/70 uppercase tracking-widest truncate w-full px-4",children:s?.name||"Producto"})]})]})},be=H.memo(ge),je=({product:s,index:n=10})=>{const t=D(),i=v(j=>j.addToCart),{toggleItem:l,isInWishlist:m}=Z(),{addItem:f}=fe(),[d,c]=u.useState("idle");if(!s||!s.id)return null;const b=n<2,o=m(s.id),a=async j=>{j.stopPropagation(),!(d!=="idle"||s.stock===0)&&(c("loading"),await new Promise(w=>setTimeout(w,500)),i(s),c("success"),setTimeout(()=>c("idle"),2e3))};return e.jsxs(r.div,{layout:!0,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"100px"},transition:{duration:.4,ease:"easeOut"},className:"group relative flex flex-col w-full h-full cursor-pointer active:scale-95 transition-transform duration-200",onClick:()=>t(`/producto/${s.slug}`),children:[e.jsxs("div",{className:"relative w-full aspect-[4/5] rounded-3xl md:rounded-[2rem] overflow-hidden bg-slate-100 transition-all duration-500 hover:shadow-2xl hover:-translate-y-1",children:[e.jsxs("div",{className:"absolute top-3 left-3 z-30 flex flex-col gap-2 pointer-events-none",children:[s.promotion&&e.jsx("span",{className:"bg-slate-900/90 backdrop-blur-md text-white text-[10px] font-extrabold px-3 py-1.5 rounded-full uppercase tracking-wider shadow-sm",children:"Sale"}),s.isNew&&!s.promotion&&e.jsx("span",{className:"bg-white/90 backdrop-blur-md text-slate-900 text-[10px] font-extrabold px-3 py-1.5 rounded-full uppercase tracking-wider shadow-sm",children:"Nuevo"})]}),e.jsxs("div",{className:"absolute top-3 right-3 z-30 flex flex-col gap-2 translate-x-12 opacity-0 group-hover:translate-x-0 group-hover:opacity-100 transition-all duration-300 ease-out",children:[e.jsx("button",{onClick:j=>{j.stopPropagation(),l(s)},className:`p-2.5 rounded-full shadow-lg backdrop-blur-sm transition-transform hover:scale-110 active:scale-90 ${o?"bg-red-50 text-red-500":"bg-white/90 text-slate-500 hover:text-slate-900"}`,children:e.jsx(te,{size:16,fill:o?"currentColor":"none"})}),e.jsx("button",{onClick:j=>{j.stopPropagation(),f(s)},className:"p-2.5 rounded-full bg-white/90 shadow-lg text-slate-500 hover:text-indigo-600 backdrop-blur-sm hover:scale-110 active:scale-90 transition-transform",children:e.jsx(se,{size:16})})]}),e.jsx(be,{product:s,priority:b,alt:s.name}),s.stock===0&&e.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[2px] z-40 flex items-center justify-center",children:e.jsx("span",{className:"border-2 border-slate-900 px-4 py-2 font-bold text-slate-900 tracking-widest uppercase text-xs",children:"Agotado"})})]}),e.jsxs("div",{className:"mt-4 px-1 flex flex-col flex-grow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest truncate max-w-[60%]",children:s.category||"General"}),e.jsxs("span",{className:"text-sm font-bold text-slate-900",children:["$",s.price?.toLocaleString()]})]}),e.jsx("h3",{className:"text-sm font-medium text-slate-700 leading-snug tracking-tight group-hover:text-indigo-600 transition-colors line-clamp-2 min-h-[2.5rem] mb-3",children:s.name}),e.jsx("div",{className:"mt-auto",children:e.jsx("button",{onClick:a,disabled:s.stock===0,className:`
                    w-full py-2.5 rounded-2xl text-sm font-bold flex items-center justify-center gap-2 transition-all duration-300
                    ${s.stock===0?"bg-slate-100 text-slate-300 cursor-not-allowed":d==="success"?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/20":"bg-slate-900 text-white hover:bg-indigo-600 hover:shadow-lg hover:shadow-indigo-500/20 active:scale-[0.98]"}
                `,children:e.jsxs(N,{mode:"wait",children:[d==="idle"&&e.jsx(r.span,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-2",children:"A침adir al carrito"},"idle"),d==="loading"&&e.jsx(r.div,{initial:{scale:0},animate:{scale:1},children:e.jsx(ae,{size:16,className:"animate-spin"})},"loading"),d==="success"&&e.jsxs(r.span,{initial:{scale:0},animate:{scale:1},className:"flex items-center gap-2",children:[e.jsx(T,{size:16})," Agregado"]},"success")]})})})]})]})},ye=u.memo(je),ve=()=>e.jsxs("div",{className:"flex flex-col overflow-hidden rounded-2xl bg-white shadow-sm border border-slate-100 animate-pulse",children:[e.jsx("div",{className:"relative w-full pb-[125%] bg-slate-200"}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[e.jsx("div",{className:"h-3 w-20 bg-slate-200 rounded mb-3"}),e.jsx("div",{className:"h-6 w-3/4 bg-slate-200 rounded mb-3"}),e.jsxs("div",{className:"space-y-2 mb-6 flex-grow",children:[e.jsx("div",{className:"h-3 w-full bg-slate-200 rounded"}),e.jsx("div",{className:"h-3 w-5/6 bg-slate-200 rounded"})]}),e.jsxs("div",{className:"mt-auto flex items-center justify-between",children:[e.jsx("div",{className:"h-8 w-24 bg-slate-200 rounded"}),e.jsx("div",{className:"h-12 w-12 bg-slate-200 rounded-full"})]})]})]}),we=()=>{const s=v(a=>a.isCartOpen),n=v(a=>a.closeCart),t=v(a=>a.cart),i=v(a=>a.removeFromCart),l=v(a=>a.increaseQuantity),m=v(a=>a.decreaseQuantity),f=v(a=>a.getCartTotal()),d=D(),c=()=>{n(),d("/checkout")},b={visible:{opacity:1},hidden:{opacity:0}},o={visible:{x:0},hidden:{x:"100%"}};return e.jsx(N,{children:s&&e.jsxs(e.Fragment,{children:[e.jsx(r.div,{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[60]",variants:b,initial:"hidden",animate:"visible",exit:"hidden",onClick:n}),e.jsxs(r.div,{className:"fixed top-0 right-0 h-full w-full max-w-[400px] bg-white shadow-2xl flex flex-col z-[70] border-l border-gray-100",variants:o,initial:"hidden",animate:"visible",exit:"hidden",transition:{type:"spring",stiffness:300,damping:30,mass:.8},onClick:a=>a.stopPropagation(),children:[e.jsxs("header",{className:"px-6 py-4 border-b border-gray-50 flex justify-between items-center bg-white sticky top-0 z-10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Carrito de Compras"}),e.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs font-medium px-2.5 py-1 rounded-full",children:t.length})]}),e.jsx("button",{onClick:n,className:"p-2 -mr-2 hover:bg-gray-50 rounded-full transition-colors text-gray-400 hover:text-gray-900",children:e.jsx(E,{size:20})})]}),e.jsx("div",{className:"flex-grow overflow-y-auto px-6 py-4 bg-white scrollbar-hide",children:t.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-6",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mb-2",children:e.jsx(ie,{className:"text-gray-300",size:32})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Tu carrito est치 vac칤o"}),e.jsx("p",{className:"text-gray-500 text-sm max-w-[200px] mx-auto",children:"Agrega productos incre칤bles a tu carrito para verlos aqu칤."})]}),e.jsx("button",{onClick:n,className:"px-6 py-2.5 bg-gray-900 text-white text-sm font-medium rounded-lg hover:bg-gray-800 transition-all shadow-sm hover:shadow-md",children:"Seguir Comprando"})]}):e.jsx("ul",{className:"space-y-6",children:t.map(a=>e.jsxs(r.li,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"group flex gap-4",children:[e.jsx("div",{className:"w-20 h-24 bg-gray-50 rounded-lg overflow-hidden flex-shrink-0 border border-gray-100",children:e.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),e.jsxs("div",{className:"flex-grow flex flex-col justify-between py-0.5",children:[e.jsxs("div",{className:"flex justify-between items-start gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 line-clamp-2 leading-snug",children:a.name}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:a.category})]}),e.jsx("button",{onClick:()=>i(a.id),className:"text-gray-300 hover:text-red-500 transition-colors p-1 -mr-1","aria-label":"Eliminar",children:e.jsx(le,{size:16})})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>m(a.id),className:"w-6 h-6 flex items-center justify-center bg-white rounded shadow-sm text-gray-500 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-all",disabled:a.quantity<=1,children:e.jsx(re,{size:12})}),e.jsx("span",{className:"text-xs font-semibold text-gray-900 w-3 text-center",children:a.quantity}),e.jsx("button",{onClick:()=>l(a.id),className:"w-6 h-6 flex items-center justify-center bg-white rounded shadow-sm text-gray-500 hover:text-gray-900 transition-all",children:e.jsx(ne,{size:12})})]}),e.jsxs("p",{className:"font-semibold text-gray-900 text-sm",children:["$",(a.price*a.quantity).toFixed(2)]})]})]})]},a.id))})}),t.length>0&&e.jsxs("div",{className:"p-6 bg-white border-t border-gray-100 safe-bottom pb-8",children:[e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-gray-500 text-sm",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["$",f.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-500 text-sm",children:[e.jsx("span",{children:"Env칤o estimado"}),e.jsx("span",{className:"text-green-600 font-medium",children:"Gratis"})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-100 flex justify-between items-end",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Total"}),e.jsxs("span",{className:"font-bold text-gray-900 text-xl tracking-tight",children:["$",f.toFixed(2)]})]})]}),e.jsxs("button",{onClick:c,className:"w-full bg-gray-900 text-white py-3.5 rounded-xl font-semibold hover:bg-black transition-all shadow-sm hover:shadow-lg hover:-translate-y-0.5 active:translate-y-0 flex items-center justify-center gap-2 group",children:["Ir a Pagar ",e.jsx(B,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})]})]})]})})},V={USD:1,EUR:.92,GBP:.79,MXN:17.05},Ne={USD:"en-US",EUR:"de-DE",GBP:"en-GB",MXN:"es-MX"},Q=Object.keys(V),_=X(G((s,n)=>({currentCurrency:"USD",setCurrency:t=>{Q.includes(t)?s({currentCurrency:t}):console.warn(`Unsupported currency: ${t}`)},convertPrice:t=>{const{currentCurrency:i}=n(),l=V[i]||1;return t*l},formatPrice:t=>{const{currentCurrency:i}=n(),l=V[i]||1,m=t*l,f=Ne[i]||"en-US";return new Intl.NumberFormat(f,{style:"currency",currency:i,minimumFractionDigits:2,maximumFractionDigits:2}).format(m)},getCurrencyOptions:()=>Q}),{name:"currency-storage",partialize:s=>({currentCurrency:s.currentCurrency})})),Ce=()=>{const{currentCurrency:s,setCurrency:n,convertPrice:t,formatPrice:i,getCurrencyOptions:l}=_();return u.useEffect(()=>{_.getState()},[]),{currentCurrency:s,setCurrency:n,convertPrice:t,formatPrice:i,getCurrencyOptions:l}},ke=({isOpen:s,onClose:n,product:t})=>{const i=D(),l=v(g=>g.addToCart),{formatPrice:m}=Ce(),[f,d]=u.useState(!1),[c,b]=u.useState(null);if(H.useEffect(()=>{t&&t.variants?.length>0?b(t.variants[0]):b(null)},[t]),!t)return null;const o=c?.image||t.image,a=t.price+(c?.priceModifier||0),j=()=>{d(!0),setTimeout(()=>{l({...t,image:o,price:a,variantName:c?.name}),d(!1),n()},600)},w=()=>{i(`/producto/${t.slug}`,{state:{productData:t}}),n()};return e.jsx(N,{children:s&&e.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm"}),e.jsxs(r.div,{layoutId:`product-card-${t.id}`,className:"relative w-[90%] md:w-full md:max-w-2xl bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row max-h-[90vh]",onClick:g=>g.stopPropagation(),children:[e.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-20 p-3 bg-white/50 hover:bg-white rounded-full transition-colors",children:e.jsx(E,{size:20,className:"text-slate-500"})}),e.jsxs("div",{className:"w-full md:w-1/2 bg-slate-50 p-8 flex items-center justify-center relative",children:[e.jsx(r.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"w-full aspect-square",children:e.jsx(K,{src:o,alt:t.name,className:"w-full h-full object-contain"})},o),t.promotion&&e.jsxs("span",{className:"absolute top-6 left-6 bg-slate-900 text-white text-xs font-bold px-2 py-1 rounded-full",children:["-",t.promotion.value,"%"]})]}),e.jsxs("div",{className:"w-full md:w-1/2 p-8 flex flex-col",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-indigo-600 uppercase tracking-widest mb-2",children:t.category}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((g,P)=>e.jsx(oe,{size:14,fill:"currentColor"},P))}),e.jsx("span",{className:"text-xs text-slate-400",children:"(24 Reviews)"})]}),e.jsx("p",{className:"text-slate-500 text-sm leading-relaxed mb-6 line-clamp-3",children:t.description}),t.variants&&t.variants.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("span",{className:"text-xs font-bold text-slate-900 block mb-2",children:["Color: ",c?.name]}),e.jsx("div",{className:"flex gap-2",children:t.variants.map(g=>e.jsx("button",{onClick:()=>b(g),className:`w-8 h-8 rounded-full border-2 transition-all ${c?.id===g.id?"border-slate-900 scale-110":"border-transparent hover:scale-105"}`,style:{backgroundColor:g.colorCode||g.color},title:g.name},g.id))})]})]}),e.jsxs("div",{className:"border-t border-slate-100 pt-6 mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-2xl font-bold text-slate-900",children:m(a)}),t.stock<5&&e.jsxs("span",{className:"text-xs font-bold text-red-500 bg-red-50 px-2 py-1 rounded-md",children:["춰Solo quedan ",t.stock,"!"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:j,disabled:f||t.stock===0,className:"flex-1 bg-slate-900 text-white font-bold py-3 px-4 rounded-xl hover:bg-slate-800 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[f?e.jsx(T,{size:18}):e.jsx(R,{size:18}),f?"A침adido":"A침adir"]}),e.jsx("button",{onClick:w,className:"p-3 border border-slate-200 rounded-xl hover:bg-slate-50 text-slate-600 transition-colors",children:e.jsx(B,{size:20})})]})]})]})]})]})})},y={id:"tn-sonic-arch-x1",name:"Sonic Architecture X1",tagline:"Redefiniendo la ac칰stica.",price:599,description:"Drivers de berilio de 50mm, cancelaci칩n de ruido con IA y 60 horas de bater칤a. Una obra maestra de la ingenier칤a auditiva.",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1&mute=0&controls=0&modestbranding=1",badges:{limitedDate:new Date("2025-12-31")},variants:[{id:"v1",name:"Phantom Black",color:"#1e293b",image:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?q=80&w=1000&auto=format&fit=crop"},{id:"v2",name:"Lunar Silver",color:"#e2e8f0",image:"https://images.unsplash.com/photo-1484704849700-f032a568e944?q=80&w=1000&auto=format&fit=crop"},{id:"v3",name:"Nebula Blue",color:"#3b82f6",image:"https://images.unsplash.com/photo-1546435770-a3e426bf472b?q=80&w=1000&auto=format&fit=crop"}]},Se=({isOpen:s,onClose:n,videoUrl:t})=>e.jsx(N,{children:s&&e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-md p-4",onClick:n,children:e.jsxs(r.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative w-full max-w-5xl aspect-video bg-black rounded-2xl overflow-hidden shadow-2xl",onClick:i=>i.stopPropagation(),children:[e.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-10 p-2 bg-black/50 text-white rounded-full hover:bg-white/20 transition-colors",children:e.jsx(E,{size:24})}),e.jsx("iframe",{src:t,title:"Product Video",className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]})})}),Pe=({isOpen:s,onClose:n,product:t,currentVariant:i})=>{const l=v(c=>c.addToCart),[m,f]=u.useState(!1),d=()=>{f(!0),setTimeout(()=>{l({...t,image:i.image,price:t.price}),f(!1),n()},600)};return e.jsx(N,{children:s&&e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/40 backdrop-blur-sm p-4",onClick:n,children:e.jsxs(r.div,{layoutId:`hero-product-${t.id}`,className:"bg-white w-full max-w-md rounded-3xl p-6 shadow-2xl relative overflow-hidden",onClick:c=>c.stopPropagation(),children:[e.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-900 z-10",children:e.jsx(E,{size:24})}),e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx(r.img,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},src:i.image,alt:t.name,className:"h-48 object-contain mb-6 drop-shadow-xl"},i.image),e.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t.name}),e.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:[i.name," Edition"]}),e.jsx("p",{className:"text-slate-600 text-sm mb-6 leading-relaxed",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between w-full pt-4 border-t border-slate-100",children:[e.jsxs("span",{className:"text-2xl font-bold text-slate-900",children:["$",t.price]}),e.jsxs("button",{onClick:d,disabled:m,className:"bg-slate-900 text-white px-6 py-3 rounded-full font-bold text-sm hover:bg-indigo-600 transition-colors flex items-center gap-2",children:[m?e.jsx(T,{size:18}):e.jsx(R,{size:18}),m?"A침adido":"Comprar Ahora"]})]})]})]})})})},ze=()=>{const s=u.useRef(null),n=v(x=>x.addToCart),[t,i]=u.useState(y.variants[0]),[l,m]=u.useState(!1),[f,d]=u.useState(!1),[c,b]=u.useState(!0),[o,a]=u.useState(!1),j=()=>{const x=document.getElementById("products");if(x){const M=x.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:M,behavior:"smooth"}),console.log(`[Analytics] CTA Clicked: Explore Collection | Variant: ${t.name}`)}},{scrollY:w}=ce();de(w,"change",x=>{x>100&&c?b(!1):x<100&&!c&&b(!0)});const g=()=>new Date>y.badges.limitedDate?"칔ltimas Unidades":"Edici칩n Limitada 2025",P=x=>{x.stopPropagation(),a(!0),setTimeout(()=>{n({...y,id:y.id,image:t.image,price:y.price,variantName:t.name}),a(!1)},500)},z=U(0),S=U(0),$=L(z,{stiffness:100,damping:30}),I=L(S,{stiffness:100,damping:30}),p=q(I,[-.5,.5],[8,-8]),h=q($,[-.5,.5],[-8,8]),C=x=>{if(!s.current)return;const k=s.current.getBoundingClientRect(),M=(x.clientX-k.left)/k.width-.5,Y=(x.clientY-k.top)/k.height-.5;z.set(M),S.set(Y)};u.useEffect(()=>{const x=k=>{k.key==="Escape"&&(m(!1),d(!1))};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[]);const A={hidden:{opacity:0,y:40},visible:x=>({opacity:1,y:0,transition:{duration:.8,ease:[.2,.65,.3,.9],delay:x*.15}})};return e.jsxs(e.Fragment,{children:[e.jsx(Se,{isOpen:l,onClose:()=>m(!1),videoUrl:y.videoUrl}),e.jsx(Pe,{isOpen:f,onClose:()=>d(!1),product:y,currentVariant:t}),e.jsxs("div",{ref:s,onMouseMove:C,onMouseLeave:()=>{z.set(0),S.set(0)},className:"relative min-h-[92vh] w-full overflow-hidden bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-slate-50 via-[#f8f9fc] to-white flex items-center justify-center pt-20 perspective-2000",children:[e.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-indigo-200/20 rounded-full blur-[120px] pointer-events-none"}),e.jsx("div",{className:"absolute bottom-[10%] right-[-5%] w-[40%] h-[40%] bg-blue-100/30 rounded-full blur-[100px] pointer-events-none"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-20 w-full z-10 flex flex-col lg:grid lg:grid-cols-2 gap-12 lg:gap-8 items-center",children:[e.jsxs("div",{className:"flex flex-col items-center lg:items-start text-center lg:text-left order-2 lg:order-1",children:[e.jsxs(r.div,{custom:0,variants:A,initial:"hidden",animate:"visible",className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-900/5 border border-slate-900/10 mb-6 backdrop-blur-sm",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:`animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 ${g()==="칔ltimas Unidades"?"bg-red-400":"bg-indigo-400"}`}),e.jsx("span",{className:`relative inline-flex rounded-full h-2 w-2 ${g()==="칔ltimas Unidades"?"bg-red-500":"bg-indigo-500"}`})]}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-slate-700",children:g()})]}),e.jsxs(r.h1,{custom:1,variants:A,initial:"hidden",animate:"visible",className:"text-5xl md:text-8xl font-extrabold tracking-tighter text-slate-900 leading-[0.95] mb-6",children:["Sonic",e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 via-slate-600 to-slate-900",children:"Architecture"})]}),e.jsxs(r.div,{custom:1.5,variants:A,initial:"hidden",animate:"visible",className:"flex items-center gap-3 mb-6 bg-white/50 p-2 rounded-full border border-slate-100 shadow-sm backdrop-blur-sm",children:[y.variants.map(x=>e.jsx("button",{onClick:()=>i(x),className:`w-6 h-6 rounded-full transition-all duration-300 ${t.id===x.id?"scale-125 ring-2 ring-indigo-500 ring-offset-2":"hover:scale-110 opacity-70 hover:opacity-100"}`,style:{backgroundColor:x.color},title:x.name},x.id)),e.jsx("span",{className:"text-xs font-medium text-slate-500 ml-2 px-2 border-l border-slate-200",children:t.name})]}),e.jsx(r.p,{custom:2,variants:A,initial:"hidden",animate:"visible",className:"text-lg md:text-xl text-slate-500 font-light max-w-lg leading-relaxed mb-10",children:y.description}),e.jsxs(r.div,{custom:3,variants:A,initial:"hidden",animate:"visible",className:"flex flex-col sm:flex-row gap-4 w-full sm:w-auto",children:[e.jsxs("button",{onClick:j,className:"group relative overflow-hidden rounded-full bg-slate-900 px-8 py-4 text-white shadow-xl transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-indigo-500/20 active:scale-95",children:[e.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2 font-bold tracking-wide",children:["Explorar Colecci칩n",e.jsx(B,{size:18,className:"transition-transform group-hover:translate-x-1"})]}),e.jsx(r.div,{initial:{x:"-100%"},animate:{x:"200%"},transition:{repeat:1/0,duration:2.5,ease:"linear",repeatDelay:1},className:"absolute inset-0 z-0 bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12"})]}),e.jsxs("button",{onClick:()=>m(!0),className:"group flex items-center justify-center gap-3 px-8 py-4 rounded-full border border-slate-200 bg-white/50 backdrop-blur-md text-slate-700 font-semibold hover:bg-white transition-all duration-300",children:[e.jsx(me,{size:20,className:"text-slate-400 group-hover:text-indigo-600 transition-colors"}),e.jsx("span",{children:"Ver el Film"})]})]})]}),e.jsx("div",{className:"relative order-1 lg:order-2 flex justify-center items-center",children:e.jsx(r.div,{style:{rotateX:p,rotateY:h,transformStyle:"preserve-3d"},className:"relative z-20 w-full max-w-[500px] aspect-square cursor-zoom-in group",onClick:()=>d(!0),children:e.jsxs(r.div,{variants:{hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:1.2}},float:{y:[0,-20,0],rotateZ:[0,1,0,-1,0],transition:{duration:6,repeat:1/0,ease:"easeInOut"}}},initial:"hidden",animate:["visible","float"],className:"w-full h-full relative",children:[e.jsx(r.div,{animate:{scale:[1,.9,1],opacity:[.3,.5,.3]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-[-40px] left-[15%] w-[70%] h-[40px] bg-black/20 blur-[30px] rounded-[100%]"}),e.jsx(N,{mode:"wait",children:e.jsx(r.img,{src:t.image,alt:y.name,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0},transition:{duration:.4},className:"w-full h-full object-contain drop-shadow-2xl will-change-transform relative z-10",style:{filter:"drop-shadow(0 25px 50px rgba(0,0,0,0.25))"}},t.id)}),e.jsx(r.div,{initial:{opacity:0},whileHover:{opacity:1},className:"absolute inset-0 z-20 flex items-center justify-center pointer-events-none",children:e.jsx("span",{className:"bg-black/50 text-white px-4 py-2 rounded-full backdrop-blur-md text-sm font-medium",children:"Click para Vista R치pida"})}),e.jsxs(r.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:1,duration:.5},onClick:P,disabled:o,className:"absolute top-[10%] right-[0%] bg-white/80 backdrop-blur-md px-4 py-2 rounded-2xl shadow-lg border border-white/50 flex items-center gap-2 hover:bg-white transition-colors z-30 group/btn",style:{transform:"translateZ(40px)"},children:[e.jsx("div",{className:`p-1 rounded-full ${o?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-900"}`,children:o?e.jsx(T,{size:14}):e.jsx(R,{size:14})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Best Seller"}),e.jsx("span",{className:"text-xs font-bold text-slate-900 group-hover/btn:text-indigo-600",children:o?"A침adiendo...":`$${y.price}`})]})]})]})})})]}),e.jsx(N,{children:c&&e.jsxs(r.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.5},className:"absolute bottom-10 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 cursor-pointer",onClick:j,children:[e.jsx("span",{className:"text-[10px] uppercase tracking-[0.2em] text-slate-400 font-medium",children:"Descubre M치s"}),e.jsx(r.div,{animate:{y:[0,8,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(xe,{className:"text-slate-400",size:24})})]})})]})]})},Ve=()=>{const[s,n]=W(),t=s.get("category"),i=s.get("filter")==="offers",[l,m]=u.useState(t||"Todos"),[f,d]=u.useState(8),[c,b]=u.useState(null);u.useEffect(()=>{m(i?"Ofertas":t||"Todos")},[t,i]);const{data:o=[],isLoading:a,isError:j}=he(),w=u.useMemo(()=>{if(!o||!Array.isArray(o)||o.length===0)return[];let h=o.filter(C=>C&&C.id);return l==="Ofertas"?h=h.filter(C=>C.promotion):l!=="Todos"&&(h=h.filter(C=>C.category===l)),h},[o,l]),g=w.slice(0,f),P=g.length<w.length,z=u.useMemo(()=>!o||!Array.isArray(o)||o.length===0?["Todos"]:["Todos","Ofertas",...[...new Set(o.filter(h=>h&&h.category).map(h=>h.category))]],[o]),S=p=>{m(p),d(8);const h={};p==="Ofertas"?h.filter="offers":p!=="Todos"&&(h.category=p),n(h)},$=()=>{d(p=>p+4)},I=a&&(!o||o.length===0);return e.jsxs("div",{className:"bg-slate-50 min-h-screen",children:[e.jsx(pe,{title:"Inicio | TechNova",description:"Tecnolog칤a premium y dise침o minimalista."}),e.jsx(we,{}),e.jsx(ke,{isOpen:!!c,onClose:()=>b(null),product:c}),e.jsx(ze,{}),e.jsxs("div",{id:"products",className:"py-16 lg:py-24 max-w-7xl mx-auto px-6 lg:px-20",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-12 gap-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Nuestra Selecci칩n"}),e.jsx("p",{className:"text-slate-500 mt-2 font-light",children:"Dise침o excepcional para tu d칤a a d칤a."})]}),e.jsx("div",{className:"flex overflow-x-auto pb-2 md:pb-0 gap-2 scrollbar-hide snap-x snap-mandatory",children:z.map(p=>e.jsx("button",{onClick:()=>S(p),className:`
                            snap-start
                            whitespace-nowrap px-4 py-3 rounded-full text-sm font-medium transition-all duration-300 border min-h-[44px]
                            ${l===p?"bg-slate-900 text-white border-slate-900 shadow-lg scale-105":"bg-white text-slate-500 border-slate-200 hover:border-slate-300 hover:bg-slate-50"}
                        `,children:p==="Ofertas"?"游댠 Ofertas":p},p))})]}),e.jsx(r.div,{layout:!0,className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6",children:e.jsx(N,{mode:"popLayout",children:I?Array.from({length:8}).map((p,h)=>e.jsx(ve,{},h)):g.map((p,h)=>e.jsx(ye,{product:p,index:h,onQuickView:b},p.id))})}),!I&&g.length===0&&e.jsxs("div",{className:"py-20 text-center",children:[e.jsx("p",{className:"text-slate-400 text-lg",children:"No hay productos en esta categor칤a."}),e.jsx("button",{onClick:()=>S("Todos"),className:"mt-4 text-indigo-600 font-medium hover:underline",children:"Ver todo el cat치logo"})]}),P&&!I&&e.jsx("div",{className:"mt-16 flex justify-center",children:e.jsxs("button",{onClick:$,className:"group flex items-center gap-2 px-8 py-3 bg-white border border-slate-200 rounded-full text-slate-600 font-medium hover:bg-slate-50 hover:border-slate-300 transition-all shadow-sm hover:shadow-md",children:["Ver m치s productos",e.jsx(ue,{size:16,className:"group-hover:translate-y-1 transition-transform"})]})})]})]})};export{Ve as default};
