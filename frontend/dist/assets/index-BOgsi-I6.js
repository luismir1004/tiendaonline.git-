const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-BRcTC-76.js","assets/state-vendor-BAyfclbw.js","assets/react-vendor-B0H9FLVV.js","assets/useProducts-VzLMlzPJ.js","assets/ui-vendor-y3VpOymC.js","assets/SEO-CzRH6sV6.js","assets/ProductPage-BpLlwSPO.js","assets/LoginPage-BIScAX9n.js","assets/CheckoutPage-e1zRusnV.js","assets/ProfilePage-BrRlXTOG.js"])))=>i.map(i=>d[i]);
import{a as hn,c as re,j as o,Q as gn,b as xn}from"./state-vendor-BAyfclbw.js";import{a as ht,g as gt,r as g,R as D,u as Me,L as E,b as xt,N as bn,B as vn,c as yn,d as oe}from"./react-vendor-B0H9FLVV.js";import{A as R,m as j,S as bt,X as G,C as br,t as wn,c as jn,a as me,b as Ye,d as _n,e as Nn,H as kn,P as zn,M as Cn,Z as Xe,f as Sn,L as $n,g as vt,h as Tn,T as En,I as On,F as In,G as Pn,i as An,j as et,k as Zn,l as Dn,n as Rn,o as Mn,p as vr,q as yr,r as $e,B as Ln,s as Fn,u as Un,v as qn,w as Bn,x as Hn,y as wr,W as Vn,z as Wn,D as Jn,E as Gn,R as Kn,J as Qn,K as Yn}from"./ui-vendor-y3VpOymC.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var tt={},It=ht;tt.createRoot=It.createRoot,tt.hydrateRoot=It.hydrateRoot;var Xn=typeof Element<"u",es=typeof Map=="function",ts=typeof Set=="function",rs=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Te(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Te(e[n],t[n]))return!1;return!0}var a;if(es&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;for(a=e.entries();!(n=a.next()).done;)if(!Te(n.value[1],t.get(n.value[0])))return!1;return!0}if(ts&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(rs&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[n]))return!1;if(Xn&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((s[n]==="_owner"||s[n]==="__v"||s[n]==="__o")&&e.$$typeof)&&!Te(e[s[n]],t[s[n]]))return!1;return!0}return e!==e&&t!==t}var ns=function(t,r){try{return Te(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const ss=gt(ns);var os=function(e,t,r,n,s,a,i,c){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,s,a,i,c],d=0;l=new Error(t.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},as=os;const Pt=gt(as);var is=function(t,r,n,s){var a=n?n.call(s,t,r):void 0;if(a!==void 0)return!!a;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var i=Object.keys(t),c=Object.keys(r);if(i.length!==c.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(r),u=0;u<i.length;u++){var d=i[u];if(!l(d))return!1;var m=t[d],p=r[d];if(a=n?n.call(s,m,p,d):void 0,a===!1||a===void 0&&m!==p)return!1}return!0};const cs=gt(is);var jr=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(jr||{}),Ve={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},At=Object.values(jr),yt={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ls=Object.entries(yt).reduce((e,[t,r])=>(e[r]=t,e),{}),B="data-rh",le={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ue=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},us=e=>{let t=ue(e,"title");const r=ue(e,le.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=ue(e,le.DEFAULT_TITLE);return t||n||void 0},ds=e=>ue(e,le.ON_CHANGE_CLIENT_STATE)||(()=>{}),We=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),ms=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const s=Object.keys(n);for(let a=0;a<s.length;a+=1){const c=s[a].toLowerCase();if(e.indexOf(c)!==-1&&n[c])return r.concat(n)}}return r},[]),ps=e=>console&&typeof console.warn=="function"&&console.warn(e),fe=(e,t,r)=>{const n={};return r.filter(s=>Array.isArray(s[e])?!0:(typeof s[e]<"u"&&ps(`Helmet: ${e} should be of type "Array". Instead found type "${typeof s[e]}"`),!1)).map(s=>s[e]).reverse().reduce((s,a)=>{const i={};a.filter(l=>{let u;const d=Object.keys(l);for(let p=0;p<d.length;p+=1){const h=d[p],b=h.toLowerCase();t.indexOf(b)!==-1&&!(u==="rel"&&l[u].toLowerCase()==="canonical")&&!(b==="rel"&&l[b].toLowerCase()==="stylesheet")&&(u=b),t.indexOf(h)!==-1&&(h==="innerHTML"||h==="cssText"||h==="itemprop")&&(u=h)}if(!u||!l[u])return!1;const m=l[u].toLowerCase();return n[u]||(n[u]={}),i[u]||(i[u]={}),n[u][m]?!1:(i[u][m]=!0,!0)}).reverse().forEach(l=>s.push(l));const c=Object.keys(i);for(let l=0;l<c.length;l+=1){const u=c[l],d={...n[u],...i[u]};n[u]=d}return s},[]).reverse()},fs=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},hs=e=>({baseTag:ms(["href"],e),bodyAttributes:We("bodyAttributes",e),defer:ue(e,le.DEFER),encode:ue(e,le.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:We("htmlAttributes",e),linkTags:fe("link",["rel","href"],e),metaTags:fe("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:fe("noscript",["innerHTML"],e),onChangeClientState:ds(e),scriptTags:fe("script",["src","innerHTML"],e),styleTags:fe("style",["cssText"],e),title:us(e),titleAttributes:We("titleAttributes",e),prioritizeSeoTags:fs(e,le.PRIORITIZE_SEO_TAGS)}),_r=e=>Array.isArray(e)?e.join(""):e,gs=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},Je=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(gs(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},Zt=(e,t)=>({...e,[t]:void 0}),xs=["noscript","script","style"],rt=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Nr=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),bs=(e,t,r,n)=>{const s=Nr(r),a=_r(t);return s?`<${e} ${B}="true" ${s}>${rt(a,n)}</${e}>`:`<${e} ${B}="true">${rt(a,n)}</${e}>`},vs=(e,t,r=!0)=>t.reduce((n,s)=>{const a=s,i=Object.keys(a).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const m=typeof a[d]>"u"?d:`${d}="${rt(a[d],r)}"`;return u?`${u} ${m}`:m},""),c=a.innerHTML||a.cssText||"",l=xs.indexOf(e)===-1;return`${n}<${e} ${B}="true" ${i}${l?"/>":`>${c}</${e}>`}`},""),kr=(e,t={})=>Object.keys(e).reduce((r,n)=>{const s=yt[n];return r[s||n]=e[n],r},t),ys=(e,t,r)=>{const n={key:t,[B]:!0},s=kr(r,n);return[D.createElement("title",s,t)]},Ee=(e,t)=>t.map((r,n)=>{const s={key:n,[B]:!0};return Object.keys(r).forEach(a=>{const c=yt[a]||a;if(c==="innerHTML"||c==="cssText"){const l=r.innerHTML||r.cssText;s.dangerouslySetInnerHTML={__html:l}}else s[c]=r[a]}),D.createElement(e,s)}),U=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>ys(e,t.title,t.titleAttributes),toString:()=>bs(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>kr(t),toString:()=>Nr(t)};default:return{toComponent:()=>Ee(e,t),toString:()=>vs(e,t,r)}}},ws=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const s=Je(e,Ve.meta),a=Je(t,Ve.link),i=Je(r,Ve.script);return{priorityMethods:{toComponent:()=>[...Ee("meta",s.priority),...Ee("link",a.priority),...Ee("script",i.priority)],toString:()=>`${U("meta",s.priority,n)} ${U("link",a.priority,n)} ${U("script",i.priority,n)}`},metaTags:s.default,linkTags:a.default,scriptTags:i.default}},js=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:s,noscriptTags:a,styleTags:i,title:c="",titleAttributes:l,prioritizeSeoTags:u}=e;let{linkTags:d,metaTags:m,scriptTags:p}=e,h={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:h,linkTags:d,metaTags:m,scriptTags:p}=ws(e)),{priority:h,base:U("base",t,n),bodyAttributes:U("bodyAttributes",r,n),htmlAttributes:U("htmlAttributes",s,n),link:U("link",d,n),meta:U("meta",m,n),noscript:U("noscript",a,n),script:U("script",p,n),style:U("style",i,n),title:U("title",{title:c,titleAttributes:l},n)}},nt=js,je=[],zr=!!(typeof window<"u"&&window.document&&window.document.createElement),st=class{instances=[];canUseDOM=zr;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?je:this.instances,add:e=>{(this.canUseDOM?je:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?je:this.instances).indexOf(e);(this.canUseDOM?je:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=nt({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},_s={},Cr=D.createContext(_s),Sr=class $r extends g.Component{static canUseDOM=zr;helmetData;constructor(t){super(t),this.helmetData=new st(this.props.context||{},$r.canUseDOM)}render(){return D.createElement(Cr.Provider,{value:this.helmetData.value},this.props.children)}},ae=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${B}]`),s=[].slice.call(n),a=[];let i;return t&&t.length&&t.forEach(c=>{const l=document.createElement(e);for(const u in c)if(Object.prototype.hasOwnProperty.call(c,u))if(u==="innerHTML")l.innerHTML=c.innerHTML;else if(u==="cssText")l.styleSheet?l.styleSheet.cssText=c.cssText:l.appendChild(document.createTextNode(c.cssText));else{const d=u,m=typeof c[d]>"u"?"":c[d];l.setAttribute(u,m)}l.setAttribute(B,"true"),s.some((u,d)=>(i=d,l.isEqualNode(u)))?s.splice(i,1):a.push(l)}),s.forEach(c=>c.parentNode?.removeChild(c)),a.forEach(c=>r.appendChild(c)),{oldTags:s,newTags:a}},ot=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(B),s=n?n.split(","):[],a=[...s],i=Object.keys(t);for(const c of i){const l=t[c]||"";r.getAttribute(c)!==l&&r.setAttribute(c,l),s.indexOf(c)===-1&&s.push(c);const u=a.indexOf(c);u!==-1&&a.splice(u,1)}for(let c=a.length-1;c>=0;c-=1)r.removeAttribute(a[c]);s.length===a.length?r.removeAttribute(B):r.getAttribute(B)!==i.join(",")&&r.setAttribute(B,i.join(","))},Ns=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=_r(e)),ot("title",t)},Dt=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:s,linkTags:a,metaTags:i,noscriptTags:c,onChangeClientState:l,scriptTags:u,styleTags:d,title:m,titleAttributes:p}=e;ot("body",n),ot("html",s),Ns(m,p);const h={baseTag:ae("base",r),linkTags:ae("link",a),metaTags:ae("meta",i),noscriptTags:ae("noscript",c),scriptTags:ae("script",u),styleTags:ae("style",d)},b={},v={};Object.keys(h).forEach(_=>{const{newTags:S,oldTags:w}=h[_];S.length&&(b[_]=S),w.length&&(v[_]=h[_].oldTags)}),t&&t(),l(e,b,v)},he=null,ks=e=>{he&&cancelAnimationFrame(he),e.defer?he=requestAnimationFrame(()=>{Dt(e,()=>{he=null})}):(Dt(e),he=null)},zs=ks,Rt=class extends g.Component{rendered=!1;shouldComponentUpdate(e){return!cs(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const n=hs(e.get().map(s=>{const a={...s.props};return delete a.context,a}));Sr.canUseDOM?zs(n):nt&&(r=nt(n)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Mu=class extends g.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!ss(Zt(this.props,"helmetData"),Zt(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return Pt(At.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${At.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Pt(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return D.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:s,...a}=n.props,i=Object.keys(a).reduce((l,u)=>(l[ls[u]||u]=a[u],l),{});let{type:c}=n;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(n,s),c){case"Symbol(react.fragment)":t=this.mapChildrenToProps(s,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,i,s);break;default:t=this.mapObjectTypeChildren(n,t,i,s);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof st)){const s=n;n=new st(s.context,!0),delete r.helmetData}return n?D.createElement(Rt,{...r,context:n.value}):D.createElement(Cr.Consumer,null,s=>D.createElement(Rt,{...r,context:s}))}};const Cs="modulepreload",Ss=function(e){return"/"+e},Mt={},ve=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=i?.nonce||i?.getAttribute("nonce");s=Promise.allSettled(r.map(l=>{if(l=Ss(l),l in Mt)return;Mt[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":Cs,u||(m.as="script"),m.crossOrigin="",m.href=l,c&&m.setAttribute("nonce",c),document.head.appendChild(m),u)return new Promise((p,h)=>{m.addEventListener("load",p),m.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return s.then(i=>{for(const c of i||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};let $s={data:""},Ts=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||$s},Es=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Os=/\/\*[^]*?\*\/|  +/g,Lt=/\n+/g,Q=(e,t)=>{let r="",n="",s="";for(let a in e){let i=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+i+";":n+=a[1]=="f"?Q(i,a):a+"{"+Q(i,a[1]=="k"?"":t)+"}":typeof i=="object"?n+=Q(i,t?t.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,c):c?c+" "+l:l)):a):i!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Q.p?Q.p(a,i):a+":"+i+";")}return r+(t&&s?t+"{"+s+"}":s)+n},J={},Tr=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Tr(e[r]);return t}return e},Is=(e,t,r,n,s)=>{let a=Tr(e),i=J[a]||(J[a]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(a));if(!J[i]){let l=a!==e?e:(u=>{let d,m,p=[{}];for(;d=Es.exec(u.replace(Os,""));)d[4]?p.shift():d[3]?(m=d[3].replace(Lt," ").trim(),p.unshift(p[0][m]=p[0][m]||{})):p[0][d[1]]=d[2].replace(Lt," ").trim();return p[0]})(e);J[i]=Q(s?{["@keyframes "+i]:l}:l,r?"":"."+i)}let c=r&&J.g?J.g:null;return r&&(J.g=J[i]),((l,u,d,m)=>{m?u.data=u.data.replace(m,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(J[i],t,n,c),i},Ps=(e,t,r)=>e.reduce((n,s,a)=>{let i=t[a];if(i&&i.call){let c=i(r),l=c&&c.props&&c.props.className||/^go/.test(c)&&c;i=l?"."+l:c&&typeof c=="object"?c.props?"":Q(c,""):c===!1?"":c}return n+s+(i??"")},"");function Le(e){let t=this||{},r=e.call?e(t.p):e;return Is(r.unshift?r.raw?Ps(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,Ts(t.target),t.g,t.o,t.k)}let Er,at,it;Le.bind({g:1});let K=Le.bind({k:1});function As(e,t,r,n){Q.p=t,Er=e,at=r,it=n}function Y(e,t){let r=this||{};return function(){let n=arguments;function s(a,i){let c=Object.assign({},a),l=c.className||s.className;r.p=Object.assign({theme:at&&at()},c),r.o=/ *go\d+/.test(l),c.className=Le.apply(r,n)+(l?" "+l:"");let u=e;return e[0]&&(u=c.as||e,delete c.as),it&&u[0]&&it(c),Er(u,c)}return s}}var Zs=e=>typeof e=="function",Ie=(e,t)=>Zs(e)?e(t):e,Ds=(()=>{let e=0;return()=>(++e).toString()})(),Or=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Rs=20,wt="default",Ir=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return Ir(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},Oe=[],Pr={toasts:[],pausedAt:void 0,settings:{toastLimit:Rs}},W={},Ar=(e,t=wt)=>{W[t]=Ir(W[t]||Pr,e),Oe.forEach(([r,n])=>{r===t&&n(W[t])})},Zr=e=>Object.keys(W).forEach(t=>Ar(e,t)),Ms=e=>Object.keys(W).find(t=>W[t].toasts.some(r=>r.id===e)),Fe=(e=wt)=>t=>{Ar(t,e)},Ls={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Fs=(e={},t=wt)=>{let[r,n]=g.useState(W[t]||Pr),s=g.useRef(W[t]);g.useEffect(()=>(s.current!==W[t]&&n(W[t]),Oe.push([t,n]),()=>{let i=Oe.findIndex(([c])=>c===t);i>-1&&Oe.splice(i,1)}),[t]);let a=r.toasts.map(i=>{var c,l,u;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((c=e[i.type])==null?void 0:c.removeDelay)||e?.removeDelay,duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||e?.duration||Ls[i.type],style:{...e.style,...(u=e[i.type])==null?void 0:u.style,...i.style}}});return{...r,toasts:a}},Us=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:r?.id||Ds()}),ye=e=>(t,r)=>{let n=Us(t,e,r);return Fe(n.toasterId||Ms(n.id))({type:2,toast:n}),n.id},I=(e,t)=>ye("blank")(e,t);I.error=ye("error");I.success=ye("success");I.loading=ye("loading");I.custom=ye("custom");I.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Fe(t)(r):Zr(r)};I.dismissAll=e=>I.dismiss(void 0,e);I.remove=(e,t)=>{let r={type:4,toastId:e};t?Fe(t)(r):Zr(r)};I.removeAll=e=>I.remove(void 0,e);I.promise=(e,t,r)=>{let n=I.loading(t.loading,{...r,...r?.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let a=t.success?Ie(t.success,s):void 0;return a?I.success(a,{id:n,...r,...r?.success}):I.dismiss(n),s}).catch(s=>{let a=t.error?Ie(t.error,s):void 0;a?I.error(a,{id:n,...r,...r?.error}):I.dismiss(n)}),e};var qs=1e3,Bs=(e,t="default")=>{let{toasts:r,pausedAt:n}=Fs(e,t),s=g.useRef(new Map).current,a=g.useCallback((m,p=qs)=>{if(s.has(m))return;let h=setTimeout(()=>{s.delete(m),i({type:4,toastId:m})},p);s.set(m,h)},[]);g.useEffect(()=>{if(n)return;let m=Date.now(),p=r.map(h=>{if(h.duration===1/0)return;let b=(h.duration||0)+h.pauseDuration-(m-h.createdAt);if(b<0){h.visible&&I.dismiss(h.id);return}return setTimeout(()=>I.dismiss(h.id,t),b)});return()=>{p.forEach(h=>h&&clearTimeout(h))}},[r,n,t]);let i=g.useCallback(Fe(t),[t]),c=g.useCallback(()=>{i({type:5,time:Date.now()})},[i]),l=g.useCallback((m,p)=>{i({type:1,toast:{id:m,height:p}})},[i]),u=g.useCallback(()=>{n&&i({type:6,time:Date.now()})},[n,i]),d=g.useCallback((m,p)=>{let{reverseOrder:h=!1,gutter:b=8,defaultPosition:v}=p||{},_=r.filter(y=>(y.position||v)===(m.position||v)&&y.height),S=_.findIndex(y=>y.id===m.id),w=_.filter((y,N)=>N<S&&y.visible).length;return _.filter(y=>y.visible).slice(...h?[w+1]:[0,w]).reduce((y,N)=>y+(N.height||0)+b,0)},[r]);return g.useEffect(()=>{r.forEach(m=>{if(m.dismissed)a(m.id,m.removeDelay);else{let p=s.get(m.id);p&&(clearTimeout(p),s.delete(m.id))}})},[r,a]),{toasts:r,handlers:{updateHeight:l,startPause:c,endPause:u,calculateOffset:d}}},Hs=K`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Vs=K`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ws=K`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Js=Y("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Hs} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Vs} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ws} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Gs=K`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ks=Y("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Gs} 1s linear infinite;
`,Qs=K`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ys=K`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Xs=Y("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Qs} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ys} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,eo=Y("div")`
  position: absolute;
`,to=Y("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ro=K`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,no=Y("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ro} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,so=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?g.createElement(no,null,t):t:r==="blank"?null:g.createElement(to,null,g.createElement(Ks,{...n}),r!=="loading"&&g.createElement(eo,null,r==="error"?g.createElement(Js,{...n}):g.createElement(Xs,{...n})))},oo=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ao=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,io="0%{opacity:0;} 100%{opacity:1;}",co="0%{opacity:1;} 100%{opacity:0;}",lo=Y("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,uo=Y("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,mo=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=Or()?[io,co]:[oo(r),ao(r)];return{animation:t?`${K(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${K(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},po=g.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?mo(e.position||t||"top-center",e.visible):{opacity:0},a=g.createElement(so,{toast:e}),i=g.createElement(uo,{...e.ariaProps},Ie(e.message,e));return g.createElement(lo,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:a,message:i}):g.createElement(g.Fragment,null,a,i))});As(g.createElement);var fo=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let a=g.useCallback(i=>{if(i){let c=()=>{let l=i.getBoundingClientRect().height;n(e,l)};c(),new MutationObserver(c).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return g.createElement("div",{ref:a,className:t,style:r},s)},ho=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Or()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},go=Le`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_e=16,xo=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,toasterId:a,containerStyle:i,containerClassName:c})=>{let{toasts:l,handlers:u}=Bs(r,a);return g.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:_e,left:_e,right:_e,bottom:_e,pointerEvents:"none",...i},className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(d=>{let m=d.position||t,p=u.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),h=ho(m,p);return g.createElement(fo,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?go:"",style:h},d.type==="custom"?Ie(d.message,d):s?s(d):g.createElement(po,{toast:d,position:m}))}))},T=I;function bo(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var a;const i=l=>l===null?null:JSON.parse(l,void 0),c=(a=r.getItem(s))!=null?a:null;return c instanceof Promise?c.then(i):i(c)},setItem:(s,a)=>r.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>r.removeItem(s)}}const ct=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return ct(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return ct(n)(r)}}}},vo=(e,t)=>(r,n,s)=>{let a={storage:bo(()=>localStorage),partialize:v=>v,version:0,merge:(v,_)=>({..._,...v}),...t},i=!1;const c=new Set,l=new Set;let u=a.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...v)},n,s);const d=()=>{const v=a.partialize({...n()});return u.setItem(a.name,{state:v,version:a.version})},m=s.setState;s.setState=(v,_)=>(m(v,_),d());const p=e((...v)=>(r(...v),d()),n,s);s.getInitialState=()=>p;let h;const b=()=>{var v,_;if(!u)return;i=!1,c.forEach(w=>{var y;return w((y=n())!=null?y:p)});const S=((_=a.onRehydrateStorage)==null?void 0:_.call(a,(v=n())!=null?v:p))||void 0;return ct(u.getItem.bind(u))(a.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==a.version){if(a.migrate){const y=a.migrate(w.state,w.version);return y instanceof Promise?y.then(N=>[!0,N]):[!0,y]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var y;const[N,H]=w;if(h=a.merge(H,(y=n())!=null?y:p),r(h,!0),N)return d()}).then(()=>{S?.(h,void 0),h=n(),i=!0,l.forEach(w=>w(h))}).catch(w=>{S?.(void 0,w)})};return s.persist={setOptions:v=>{a={...a,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>b(),hasHydrated:()=>i,onHydrate:v=>(c.add(v),()=>{c.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},a.skipHydration||b(),h||p},we=vo;function f(e,t,r){function n(c,l){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:l,constr:i,traits:new Set},enumerable:!1}),c._zod.traits.has(e))return;c._zod.traits.add(e),t(c,l);const u=i.prototype,d=Object.keys(u);for(let m=0;m<d.length;m++){const p=d[m];p in c||(c[p]=u[p].bind(c))}}const s=r?.Parent??Object;class a extends s{}Object.defineProperty(a,"name",{value:e});function i(c){var l;const u=r?.Parent?new a:this;n(u,c),(l=u._zod).deferred??(l.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(i,"init",{value:n}),Object.defineProperty(i,Symbol.hasInstance,{value:c=>r?.Parent&&c instanceof r.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}class de extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Dr extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Rr={};function ee(e){return Rr}function Mr(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,s])=>t.indexOf(+n)===-1).map(([n,s])=>s)}function lt(e,t){return typeof t=="bigint"?t.toString():t}function jt(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function _t(e){return e==null}function Nt(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function yo(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let s=(n.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(n)){const l=n.match(/\d?e-(\d?)/);l?.[1]&&(s=Number.parseInt(l[1]))}const a=r>s?r:s,i=Number.parseInt(e.toFixed(a).replace(".","")),c=Number.parseInt(t.toFixed(a).replace(".",""));return i%c/10**a}const Ft=Symbol("evaluating");function k(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==Ft)return n===void 0&&(n=Ft,n=r()),n},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function ne(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function se(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function Ut(e){return JSON.stringify(e)}function wo(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Lr="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Pe(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const jo=jt(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function xe(e){if(Pe(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(Pe(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Fr(e){return xe(e)?{...e}:Array.isArray(e)?[...e]:e}const _o=new Set(["string","number","symbol"]);function Ue(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function X(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function x(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function No(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const ko={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function zo(e,t){const r=e._zod.def,n=se(e._zod.def,{get shape(){const s={};for(const a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(s[a]=r.shape[a])}return ne(this,"shape",s),s},checks:[]});return X(e,n)}function Co(e,t){const r=e._zod.def,n=se(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete s[a]}return ne(this,"shape",s),s},checks:[]});return X(e,n)}function So(e,t){if(!xe(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=se(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return ne(this,"shape",a),a},checks:[]});return X(e,s)}function $o(e,t){if(!xe(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return ne(this,"shape",n),n},checks:e._zod.def.checks};return X(e,r)}function To(e,t){const r=se(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return ne(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return X(e,r)}function Eo(e,t,r){const n=se(t._zod.def,{get shape(){const s=t._zod.def.shape,a={...s};if(r)for(const i in r){if(!(i in s))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(a[i]=e?new e({type:"optional",innerType:s[i]}):s[i])}else for(const i in s)a[i]=e?new e({type:"optional",innerType:s[i]}):s[i];return ne(this,"shape",a),a},checks:[]});return X(t,n)}function Oo(e,t,r){const n=se(t._zod.def,{get shape(){const s=t._zod.def.shape,a={...s};if(r)for(const i in r){if(!(i in a))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(a[i]=new e({type:"nonoptional",innerType:s[i]}))}else for(const i in s)a[i]=new e({type:"nonoptional",innerType:s[i]});return ne(this,"shape",a),a},checks:[]});return X(t,n)}function ce(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function Ur(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Ne(e){return typeof e=="string"?e:e?.message}function te(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const s=Ne(e.inst?._zod.def?.error?.(e))??Ne(t?.error?.(e))??Ne(r.customError?.(e))??Ne(r.localeError?.(e))??"Invalid input";n.message=s}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function kt(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function be(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const qr=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,lt,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Br=f("$ZodError",qr),Hr=f("$ZodError",qr,{Parent:Error});function Io(e,t=r=>r.message){const r={},n=[];for(const s of e.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}function Po(e,t=r=>r.message){const r={_errors:[]},n=s=>{for(const a of s.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(i=>n({issues:i}));else if(a.code==="invalid_key")n({issues:a.issues});else if(a.code==="invalid_element")n({issues:a.issues});else if(a.path.length===0)r._errors.push(t(a));else{let i=r,c=0;for(;c<a.path.length;){const l=a.path[c];c===a.path.length-1?(i[l]=i[l]||{_errors:[]},i[l]._errors.push(t(a))):i[l]=i[l]||{_errors:[]},i=i[l],c++}}};return n(e),r}const zt=e=>(t,r,n,s)=>{const a=n?Object.assign(n,{async:!1}):{async:!1},i=t._zod.run({value:r,issues:[]},a);if(i instanceof Promise)throw new de;if(i.issues.length){const c=new(s?.Err??e)(i.issues.map(l=>te(l,a,ee())));throw Lr(c,s?.callee),c}return i.value},Ct=e=>async(t,r,n,s)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},a);if(i instanceof Promise&&(i=await i),i.issues.length){const c=new(s?.Err??e)(i.issues.map(l=>te(l,a,ee())));throw Lr(c,s?.callee),c}return i.value},qe=e=>(t,r,n)=>{const s=n?{...n,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},s);if(a instanceof Promise)throw new de;return a.issues.length?{success:!1,error:new(e??Br)(a.issues.map(i=>te(i,s,ee())))}:{success:!0,data:a.value}},Ao=qe(Hr),Be=e=>async(t,r,n)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let a=t._zod.run({value:r,issues:[]},s);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(i=>te(i,s,ee())))}:{success:!0,data:a.value}},Zo=Be(Hr),Do=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return zt(e)(t,r,s)},Ro=e=>(t,r,n)=>zt(e)(t,r,n),Mo=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Ct(e)(t,r,s)},Lo=e=>async(t,r,n)=>Ct(e)(t,r,n),Fo=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return qe(e)(t,r,s)},Uo=e=>(t,r,n)=>qe(e)(t,r,n),qo=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Be(e)(t,r,s)},Bo=e=>async(t,r,n)=>Be(e)(t,r,n),Ho=/^[cC][^\s-]{8,}$/,Vo=/^[0-9a-z]+$/,Wo=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Jo=/^[0-9a-vA-V]{20}$/,Go=/^[A-Za-z0-9]{27}$/,Ko=/^[a-zA-Z0-9_-]{21}$/,Qo=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Yo=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,qt=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Xo=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,ea="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function ta(){return new RegExp(ea,"u")}const ra=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,na=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,sa=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,oa=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,aa=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Vr=/^[A-Za-z0-9_-]*$/,ia=/^\+(?:[0-9]){6,14}[0-9]$/,Wr="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",ca=new RegExp(`^${Wr}$`);function Jr(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function la(e){return new RegExp(`^${Jr(e)}$`)}function ua(e){const t=Jr({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${Wr}T(?:${n})$`)}const da=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},ma=/^-?\d+$/,pa=/^-?\d+(?:\.\d+)?/,fa=/^[^A-Z]*$/,ha=/^[^a-z]*$/,M=f("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),Gr={number:"number",bigint:"bigint",object:"date"},Kr=f("$ZodCheckLessThan",(e,t)=>{M.init(e,t);const r=Gr[typeof t.value];e._zod.onattach.push(n=>{const s=n._zod.bag,a=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Qr=f("$ZodCheckGreaterThan",(e,t)=>{M.init(e,t);const r=Gr[typeof t.value];e._zod.onattach.push(n=>{const s=n._zod.bag,a=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),ga=f("$ZodCheckMultipleOf",(e,t)=>{M.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):yo(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),xa=f("$ZodCheckNumberFormat",(e,t)=>{M.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[s,a]=ko[t.format];e._zod.onattach.push(i=>{const c=i._zod.bag;c.format=t.format,c.minimum=s,c.maximum=a,r&&(c.pattern=ma)}),e._zod.check=i=>{const c=i.value;if(r){if(!Number.isInteger(c)){i.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?i.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):i.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}c<s&&i.issues.push({origin:"number",input:c,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),c>a&&i.issues.push({origin:"number",input:c,code:"too_big",maximum:a,inst:e})}}),ba=f("$ZodCheckMaxLength",(e,t)=>{var r;M.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!_t(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const s=n.value;if(s.length<=t.maximum)return;const i=kt(s);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),va=f("$ZodCheckMinLength",(e,t)=>{var r;M.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!_t(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const s=n.value;if(s.length>=t.minimum)return;const i=kt(s);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),ya=f("$ZodCheckLengthEquals",(e,t)=>{var r;M.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!_t(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=n=>{const s=n.value,a=s.length;if(a===t.length)return;const i=kt(s),c=a>t.length;n.issues.push({origin:i,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),He=f("$ZodCheckStringFormat",(e,t)=>{var r,n;M.init(e,t),e._zod.onattach.push(s=>{const a=s._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),wa=f("$ZodCheckRegex",(e,t)=>{He.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),ja=f("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=fa),He.init(e,t)}),_a=f("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=ha),He.init(e,t)}),Na=f("$ZodCheckIncludes",(e,t)=>{M.init(e,t);const r=Ue(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(s=>{const a=s._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),ka=f("$ZodCheckStartsWith",(e,t)=>{M.init(e,t);const r=new RegExp(`^${Ue(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),za=f("$ZodCheckEndsWith",(e,t)=>{M.init(e,t);const r=new RegExp(`.*${Ue(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),Ca=f("$ZodCheckOverwrite",(e,t)=>{M.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class Sa{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(i=>i),s=Math.min(...n.map(i=>i.length-i.trimStart().length)),a=n.map(i=>i.slice(s)).map(i=>" ".repeat(this.indent*2)+i);for(const i of a)this.content.push(i)}compile(){const t=Function,r=this?.args,s=[...(this?.content??[""]).map(a=>`  ${a}`)];return new t(...r,s.join(`
`))}}const $a={major:4,minor:2,patch:1},O=f("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=$a;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const s of n)for(const a of s._zod.onattach)a(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const s=(i,c,l)=>{let u=ce(i),d;for(const m of c){if(m._zod.def.when){if(!m._zod.def.when(i))continue}else if(u)continue;const p=i.issues.length,h=m._zod.check(i);if(h instanceof Promise&&l?.async===!1)throw new de;if(d||h instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await h,i.issues.length!==p&&(u||(u=ce(i,p)))});else{if(i.issues.length===p)continue;u||(u=ce(i,p))}}return d?d.then(()=>i):i},a=(i,c,l)=>{if(ce(i))return i.aborted=!0,i;const u=s(c,n,l);if(u instanceof Promise){if(l.async===!1)throw new de;return u.then(d=>e._zod.parse(d,l))}return e._zod.parse(u,l)};e._zod.run=(i,c)=>{if(c.skipChecks)return e._zod.parse(i,c);if(c.direction==="backward"){const u=e._zod.parse({value:i.value,issues:[]},{...c,skipChecks:!0});return u instanceof Promise?u.then(d=>a(d,i,c)):a(u,i,c)}const l=e._zod.parse(i,c);if(l instanceof Promise){if(c.async===!1)throw new de;return l.then(u=>s(u,n,c))}return s(l,n,c)}}e["~standard"]={validate:s=>{try{const a=Ao(e,s);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return Zo(e,s).then(i=>i.success?{value:i.data}:{issues:i.error?.issues})}},vendor:"zod",version:1}}),St=f("$ZodString",(e,t)=>{O.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??da(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),C=f("$ZodStringFormat",(e,t)=>{He.init(e,t),St.init(e,t)}),Ta=f("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Yo),C.init(e,t)}),Ea=f("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=qt(n))}else t.pattern??(t.pattern=qt());C.init(e,t)}),Oa=f("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Xo),C.init(e,t)}),Ia=f("$ZodURL",(e,t)=>{C.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),s=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=s.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),Pa=f("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=ta()),C.init(e,t)}),Aa=f("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Ko),C.init(e,t)}),Za=f("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Ho),C.init(e,t)}),Da=f("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Vo),C.init(e,t)}),Ra=f("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Wo),C.init(e,t)}),Ma=f("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Jo),C.init(e,t)}),La=f("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Go),C.init(e,t)}),Fa=f("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=ua(t)),C.init(e,t)}),Ua=f("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=ca),C.init(e,t)}),qa=f("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=la(t)),C.init(e,t)}),Ba=f("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Qo),C.init(e,t)}),Ha=f("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=ra),C.init(e,t),e._zod.bag.format="ipv4"}),Va=f("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=na),C.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),Wa=f("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=sa),C.init(e,t)}),Ja=f("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=oa),C.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[s,a]=n;if(!a)throw new Error;const i=Number(a);if(`${i}`!==a)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${s}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function Yr(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Ga=f("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=aa),C.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{Yr(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function Ka(e){if(!Vr.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return Yr(r)}const Qa=f("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Vr),C.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{Ka(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),Ya=f("$ZodE164",(e,t)=>{t.pattern??(t.pattern=ia),C.init(e,t)});function Xa(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const s=JSON.parse(atob(n));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const ei=f("$ZodJWT",(e,t)=>{C.init(e,t),e._zod.check=r=>{Xa(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),Xr=f("$ZodNumber",(e,t)=>{O.init(e,t),e._zod.pattern=e._zod.bag.pattern??pa,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const s=r.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return r;const a=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...a?{received:a}:{}}),r}}),ti=f("$ZodNumberFormat",(e,t)=>{xa.init(e,t),Xr.init(e,t)}),ri=f("$ZodUnknown",(e,t)=>{O.init(e,t),e._zod.parse=r=>r}),ni=f("$ZodNever",(e,t)=>{O.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function Bt(e,t,r){e.issues.length&&t.issues.push(...Ur(r,e.issues)),t.value[r]=e.value}const si=f("$ZodArray",(e,t)=>{O.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),r;r.value=Array(s.length);const a=[];for(let i=0;i<s.length;i++){const c=s[i],l=t.element._zod.run({value:c,issues:[]},n);l instanceof Promise?a.push(l.then(u=>Bt(u,r,i))):Bt(l,r,i)}return a.length?Promise.all(a).then(()=>r):r}});function Ae(e,t,r,n){e.issues.length&&t.issues.push(...Ur(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function en(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=No(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function tn(e,t,r,n,s,a){const i=[],c=s.keySet,l=s.catchall._zod,u=l.def.type;for(const d in t){if(c.has(d))continue;if(u==="never"){i.push(d);continue}const m=l.run({value:t[d],issues:[]},n);m instanceof Promise?e.push(m.then(p=>Ae(p,r,d,t))):Ae(m,r,d,t)}return i.length&&r.issues.push({code:"unrecognized_keys",keys:i,input:t,inst:a}),e.length?Promise.all(e).then(()=>r):r}const oi=f("$ZodObject",(e,t)=>{if(O.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const c=t.shape;Object.defineProperty(t,"shape",{get:()=>{const l={...c};return Object.defineProperty(t,"shape",{value:l}),l}})}const n=jt(()=>en(t));k(e._zod,"propValues",()=>{const c=t.shape,l={};for(const u in c){const d=c[u]._zod;if(d.values){l[u]??(l[u]=new Set);for(const m of d.values)l[u].add(m)}}return l});const s=Pe,a=t.catchall;let i;e._zod.parse=(c,l)=>{i??(i=n.value);const u=c.value;if(!s(u))return c.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),c;c.value={};const d=[],m=i.shape;for(const p of i.keys){const b=m[p]._zod.run({value:u[p],issues:[]},l);b instanceof Promise?d.push(b.then(v=>Ae(v,c,p,u))):Ae(b,c,p,u)}return a?tn(d,u,c,l,n.value,e):d.length?Promise.all(d).then(()=>c):c}}),ai=f("$ZodObjectJIT",(e,t)=>{oi.init(e,t);const r=e._zod.parse,n=jt(()=>en(t)),s=p=>{const h=new Sa(["shape","payload","ctx"]),b=n.value,v=y=>{const N=Ut(y);return`shape[${N}]._zod.run({ value: input[${N}], issues: [] }, ctx)`};h.write("const input = payload.value;");const _=Object.create(null);let S=0;for(const y of b.keys)_[y]=`key_${S++}`;h.write("const newResult = {};");for(const y of b.keys){const N=_[y],H=Ut(y);h.write(`const ${N} = ${v(y)};`),h.write(`
        if (${N}.issues.length) {
          payload.issues = payload.issues.concat(${N}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${H}, ...iss.path] : [${H}]
          })));
        }
        
        
        if (${N}.value === undefined) {
          if (${H} in input) {
            newResult[${H}] = undefined;
          }
        } else {
          newResult[${H}] = ${N}.value;
        }
        
      `)}h.write("payload.value = newResult;"),h.write("return payload;");const w=h.compile();return(y,N)=>w(p,y,N)};let a;const i=Pe,c=!Rr.jitless,u=c&&jo.value,d=t.catchall;let m;e._zod.parse=(p,h)=>{m??(m=n.value);const b=p.value;return i(b)?c&&u&&h?.async===!1&&h.jitless!==!0?(a||(a=s(t.shape)),p=a(p,h),d?tn([],b,p,h,m,e):p):r(p,h):(p.issues.push({expected:"object",code:"invalid_type",input:b,inst:e}),p)}});function Ht(e,t,r,n){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const s=e.filter(a=>!ce(a));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(a=>a.issues.map(i=>te(i,n,ee())))}),t)}const ii=f("$ZodUnion",(e,t)=>{O.init(e,t),k(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),k(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),k(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),k(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${s.map(a=>Nt(a.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(s,a)=>{if(r)return n(s,a);let i=!1;const c=[];for(const l of t.options){const u=l._zod.run({value:s.value,issues:[]},a);if(u instanceof Promise)c.push(u),i=!0;else{if(u.issues.length===0)return u;c.push(u)}}return i?Promise.all(c).then(l=>Ht(l,s,e,a)):Ht(c,s,e,a)}}),ci=f("$ZodIntersection",(e,t)=>{O.init(e,t),e._zod.parse=(r,n)=>{const s=r.value,a=t.left._zod.run({value:s,issues:[]},n),i=t.right._zod.run({value:s,issues:[]},n);return a instanceof Promise||i instanceof Promise?Promise.all([a,i]).then(([l,u])=>Vt(r,l,u)):Vt(r,a,i)}});function ut(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(xe(e)&&xe(t)){const r=Object.keys(t),n=Object.keys(e).filter(a=>r.indexOf(a)!==-1),s={...e,...t};for(const a of n){const i=ut(e[a],t[a]);if(!i.valid)return{valid:!1,mergeErrorPath:[a,...i.mergeErrorPath]};s[a]=i.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const s=e[n],a=t[n],i=ut(s,a);if(!i.valid)return{valid:!1,mergeErrorPath:[n,...i.mergeErrorPath]};r.push(i.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Vt(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),ce(e))return e;const n=ut(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const li=f("$ZodEnum",(e,t)=>{O.init(e,t);const r=Mr(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(s=>_o.has(typeof s)).map(s=>typeof s=="string"?Ue(s):s.toString()).join("|")})$`),e._zod.parse=(s,a)=>{const i=s.value;return n.has(i)||s.issues.push({code:"invalid_value",values:r,input:i,inst:e}),s}}),ui=f("$ZodTransform",(e,t)=>{O.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Dr(e.constructor.name);const s=t.transform(r.value,r);if(n.async)return(s instanceof Promise?s:Promise.resolve(s)).then(i=>(r.value=i,r));if(s instanceof Promise)throw new de;return r.value=s,r}});function Wt(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const di=f("$ZodOptional",(e,t)=>{O.init(e,t),e._zod.optin="optional",e._zod.optout="optional",k(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),k(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Nt(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(a=>Wt(a,r.value)):Wt(s,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),mi=f("$ZodNullable",(e,t)=>{O.init(e,t),k(e._zod,"optin",()=>t.innerType._zod.optin),k(e._zod,"optout",()=>t.innerType._zod.optout),k(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Nt(r.source)}|null)$`):void 0}),k(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),pi=f("$ZodDefault",(e,t)=>{O.init(e,t),e._zod.optin="optional",k(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(a=>Jt(a,t)):Jt(s,t)}});function Jt(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const fi=f("$ZodPrefault",(e,t)=>{O.init(e,t),e._zod.optin="optional",k(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),hi=f("$ZodNonOptional",(e,t)=>{O.init(e,t),k(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(a=>Gt(a,e)):Gt(s,e)}});function Gt(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const gi=f("$ZodCatch",(e,t)=>{O.init(e,t),k(e._zod,"optin",()=>t.innerType._zod.optin),k(e._zod,"optout",()=>t.innerType._zod.optout),k(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(a=>(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(i=>te(i,n,ee()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(a=>te(a,n,ee()))},input:r.value}),r.issues=[]),r)}}),xi=f("$ZodPipe",(e,t)=>{O.init(e,t),k(e._zod,"values",()=>t.in._zod.values),k(e._zod,"optin",()=>t.in._zod.optin),k(e._zod,"optout",()=>t.out._zod.optout),k(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const a=t.out._zod.run(r,n);return a instanceof Promise?a.then(i=>ke(i,t.in,n)):ke(a,t.in,n)}const s=t.in._zod.run(r,n);return s instanceof Promise?s.then(a=>ke(a,t.out,n)):ke(s,t.out,n)}});function ke(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const bi=f("$ZodReadonly",(e,t)=>{O.init(e,t),k(e._zod,"propValues",()=>t.innerType._zod.propValues),k(e._zod,"values",()=>t.innerType._zod.values),k(e._zod,"optin",()=>t.innerType?._zod?.optin),k(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(Kt):Kt(s)}});function Kt(e){return e.value=Object.freeze(e.value),e}const vi=f("$ZodCustom",(e,t)=>{M.init(e,t),O.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,s=t.fn(n);if(s instanceof Promise)return s.then(a=>Qt(a,r,n,e));Qt(s,r,n,e)}});function Qt(e,t,r,n){if(!e){const s={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(s.params=n._zod.def.params),t.issues.push(be(s))}}var Yt;class yi{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const s={...n,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function wi(){return new yi}(Yt=globalThis).__zod_globalRegistry??(Yt.__zod_globalRegistry=wi());const ge=globalThis.__zod_globalRegistry;function ji(e,t){return new e({type:"string",...x(t)})}function _i(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...x(t)})}function Xt(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...x(t)})}function Ni(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...x(t)})}function ki(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...x(t)})}function zi(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...x(t)})}function Ci(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...x(t)})}function Si(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...x(t)})}function $i(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...x(t)})}function Ti(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...x(t)})}function Ei(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...x(t)})}function Oi(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...x(t)})}function Ii(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...x(t)})}function Pi(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...x(t)})}function Ai(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...x(t)})}function Zi(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...x(t)})}function Di(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...x(t)})}function Ri(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...x(t)})}function Mi(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...x(t)})}function Li(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...x(t)})}function Fi(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...x(t)})}function Ui(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...x(t)})}function qi(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...x(t)})}function Bi(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...x(t)})}function Hi(e,t){return new e({type:"string",format:"date",check:"string_format",...x(t)})}function Vi(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...x(t)})}function Wi(e,t){return new e({type:"string",format:"duration",check:"string_format",...x(t)})}function Ji(e,t){return new e({type:"number",checks:[],...x(t)})}function Gi(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...x(t)})}function Ki(e){return new e({type:"unknown"})}function Qi(e,t){return new e({type:"never",...x(t)})}function er(e,t){return new Kr({check:"less_than",...x(t),value:e,inclusive:!1})}function Ge(e,t){return new Kr({check:"less_than",...x(t),value:e,inclusive:!0})}function tr(e,t){return new Qr({check:"greater_than",...x(t),value:e,inclusive:!1})}function Ke(e,t){return new Qr({check:"greater_than",...x(t),value:e,inclusive:!0})}function rr(e,t){return new ga({check:"multiple_of",...x(t),value:e})}function rn(e,t){return new ba({check:"max_length",...x(t),maximum:e})}function Ze(e,t){return new va({check:"min_length",...x(t),minimum:e})}function nn(e,t){return new ya({check:"length_equals",...x(t),length:e})}function Yi(e,t){return new wa({check:"string_format",format:"regex",...x(t),pattern:e})}function Xi(e){return new ja({check:"string_format",format:"lowercase",...x(e)})}function ec(e){return new _a({check:"string_format",format:"uppercase",...x(e)})}function tc(e,t){return new Na({check:"string_format",format:"includes",...x(t),includes:e})}function rc(e,t){return new ka({check:"string_format",format:"starts_with",...x(t),prefix:e})}function nc(e,t){return new za({check:"string_format",format:"ends_with",...x(t),suffix:e})}function pe(e){return new Ca({check:"overwrite",tx:e})}function sc(e){return pe(t=>t.normalize(e))}function oc(){return pe(e=>e.trim())}function ac(){return pe(e=>e.toLowerCase())}function ic(){return pe(e=>e.toUpperCase())}function cc(){return pe(e=>wo(e))}function lc(e,t,r){return new e({type:"array",element:t,...x(r)})}function uc(e,t,r){return new e({type:"custom",check:"custom",fn:t,...x(r)})}function dc(e){const t=mc(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(be(n,r.value,t._zod.def));else{const s=n;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(be(s))}},e(r.value,r)));return t}function mc(e,t){const r=new M({check:"custom",...x(t)});return r._zod.check=e,r}function sn(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??ge,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function A(e,t,r={path:[],schemaPath:[]}){var n;const s=e._zod.def,a=t.seen.get(e);if(a)return a.count++,r.schemaPath.includes(e)&&(a.cycle=r.path),a.schema;const i={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,i);const c=e._zod.toJSONSchema?.();if(c)i.schema=c;else{const d={...r,schemaPath:[...r.schemaPath,e],path:r.path},m=e._zod.parent;if(m)i.ref=m,A(m,t,d),t.seen.get(m).isParent=!0;else if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,i.schema,d);else{const p=i.schema,h=t.processors[s.type];if(!h)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);h(e,t,p,d)}}const l=t.metadataRegistry.get(e);return l&&Object.assign(i.schema,l),t.io==="input"&&Z(e)&&(delete i.schema.examples,delete i.schema.default),t.io==="input"&&i.schema._prefault&&((n=i.schema).default??(n.default=i.schema._prefault)),delete i.schema._prefault,t.seen.get(e).schema}function on(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=a=>{const i=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const d=e.external.registry.get(a[0])?.id,m=e.external.uri??(h=>h);if(d)return{ref:m(d)};const p=a[1].defId??a[1].schema.id??`schema${e.counter++}`;return a[1].defId=p,{defId:p,ref:`${m("__shared")}#/${i}/${p}`}}if(a[1]===r)return{ref:"#"};const l=`#/${i}/`,u=a[1].schema.id??`__schema${e.counter++}`;return{defId:u,ref:l+u}},s=a=>{if(a[1].schema.$ref)return;const i=a[1],{ref:c,defId:l}=n(a);i.def={...i.schema},l&&(i.defId=l);const u=i.schema;for(const d in u)delete u[d];u.$ref=c};if(e.cycles==="throw")for(const a of e.seen.entries()){const i=a[1];if(i.cycle)throw new Error(`Cycle detected: #/${i.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const a of e.seen.entries()){const i=a[1];if(t===a[0]){s(a);continue}if(e.external){const l=e.external.registry.get(a[0])?.id;if(t!==a[0]&&l){s(a);continue}}if(e.metadataRegistry.get(a[0])?.id){s(a);continue}if(i.cycle){s(a);continue}if(i.count>1&&e.reused==="ref"){s(a);continue}}}function an(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=i=>{const c=e.seen.get(i),l=c.def??c.schema,u={...l};if(c.ref===null)return;const d=c.ref;if(c.ref=null,d){n(d);const m=e.seen.get(d).schema;m.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(l.allOf=l.allOf??[],l.allOf.push(m)):(Object.assign(l,m),Object.assign(l,u))}c.isParent||e.override({zodSchema:i,jsonSchema:l,path:c.path??[]})};for(const i of[...e.seen.entries()].reverse())n(i[0]);const s={};if(e.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const i=e.external.registry.get(t)?.id;if(!i)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(i)}Object.assign(s,r.def??r.schema);const a=e.external?.defs??{};for(const i of e.seen.entries()){const c=i[1];c.def&&c.defId&&(a[c.defId]=c.def)}e.external||Object.keys(a).length>0&&(e.target==="draft-2020-12"?s.$defs=a:s.definitions=a);try{const i=JSON.parse(JSON.stringify(s));return Object.defineProperty(i,"~standard",{value:{...t["~standard"],jsonSchema:{input:De(t,"input"),output:De(t,"output")}},enumerable:!1,writable:!1}),i}catch{throw new Error("Error converting schema to JSON.")}}function Z(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return Z(n.element,r);if(n.type==="set")return Z(n.valueType,r);if(n.type==="lazy")return Z(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return Z(n.innerType,r);if(n.type==="intersection")return Z(n.left,r)||Z(n.right,r);if(n.type==="record"||n.type==="map")return Z(n.keyType,r)||Z(n.valueType,r);if(n.type==="pipe")return Z(n.in,r)||Z(n.out,r);if(n.type==="object"){for(const s in n.shape)if(Z(n.shape[s],r))return!0;return!1}if(n.type==="union"){for(const s of n.options)if(Z(s,r))return!0;return!1}if(n.type==="tuple"){for(const s of n.items)if(Z(s,r))return!0;return!!(n.rest&&Z(n.rest,r))}return!1}const pc=(e,t={})=>r=>{const n=sn({...r,processors:t});return A(e,n),on(n,e),an(n,e)},De=(e,t)=>r=>{const{libraryOptions:n,target:s}=r??{},a=sn({...n??{},target:s,io:t,processors:{}});return A(e,a),on(a,e),an(a,e)},fc={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},hc=(e,t,r,n)=>{const s=r;s.type="string";const{minimum:a,maximum:i,format:c,patterns:l,contentEncoding:u}=e._zod.bag;if(typeof a=="number"&&(s.minLength=a),typeof i=="number"&&(s.maxLength=i),c&&(s.format=fc[c]??c,s.format===""&&delete s.format),u&&(s.contentEncoding=u),l&&l.size>0){const d=[...l];d.length===1?s.pattern=d[0].source:d.length>1&&(s.allOf=[...d.map(m=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:m.source}))])}},gc=(e,t,r,n)=>{const s=r,{minimum:a,maximum:i,format:c,multipleOf:l,exclusiveMaximum:u,exclusiveMinimum:d}=e._zod.bag;typeof c=="string"&&c.includes("int")?s.type="integer":s.type="number",typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.minimum=d,s.exclusiveMinimum=!0):s.exclusiveMinimum=d),typeof a=="number"&&(s.minimum=a,typeof d=="number"&&t.target!=="draft-04"&&(d>=a?delete s.minimum:delete s.exclusiveMinimum)),typeof u=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.maximum=u,s.exclusiveMaximum=!0):s.exclusiveMaximum=u),typeof i=="number"&&(s.maximum=i,typeof u=="number"&&t.target!=="draft-04"&&(u<=i?delete s.maximum:delete s.exclusiveMaximum)),typeof l=="number"&&(s.multipleOf=l)},xc=(e,t,r,n)=>{r.not={}},bc=(e,t,r,n)=>{},vc=(e,t,r,n)=>{const s=e._zod.def,a=Mr(s.entries);a.every(i=>typeof i=="number")&&(r.type="number"),a.every(i=>typeof i=="string")&&(r.type="string"),r.enum=a},yc=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},wc=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},jc=(e,t,r,n)=>{const s=r,a=e._zod.def,{minimum:i,maximum:c}=e._zod.bag;typeof i=="number"&&(s.minItems=i),typeof c=="number"&&(s.maxItems=c),s.type="array",s.items=A(a.element,t,{...n,path:[...n.path,"items"]})},_c=(e,t,r,n)=>{const s=r,a=e._zod.def;s.type="object",s.properties={};const i=a.shape;for(const u in i)s.properties[u]=A(i[u],t,{...n,path:[...n.path,"properties",u]});const c=new Set(Object.keys(i)),l=new Set([...c].filter(u=>{const d=a.shape[u]._zod;return t.io==="input"?d.optin===void 0:d.optout===void 0}));l.size>0&&(s.required=Array.from(l)),a.catchall?._zod.def.type==="never"?s.additionalProperties=!1:a.catchall?a.catchall&&(s.additionalProperties=A(a.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(s.additionalProperties=!1)},Nc=(e,t,r,n)=>{const s=e._zod.def,a=s.inclusive===!1,i=s.options.map((c,l)=>A(c,t,{...n,path:[...n.path,a?"oneOf":"anyOf",l]}));a?r.oneOf=i:r.anyOf=i},kc=(e,t,r,n)=>{const s=e._zod.def,a=A(s.left,t,{...n,path:[...n.path,"allOf",0]}),i=A(s.right,t,{...n,path:[...n.path,"allOf",1]}),c=u=>"allOf"in u&&Object.keys(u).length===1,l=[...c(a)?a.allOf:[a],...c(i)?i.allOf:[i]];r.allOf=l},zc=(e,t,r,n)=>{const s=e._zod.def,a=A(s.innerType,t,n),i=t.seen.get(e);t.target==="openapi-3.0"?(i.ref=s.innerType,r.nullable=!0):r.anyOf=[a,{type:"null"}]},Cc=(e,t,r,n)=>{const s=e._zod.def;A(s.innerType,t,n);const a=t.seen.get(e);a.ref=s.innerType},Sc=(e,t,r,n)=>{const s=e._zod.def;A(s.innerType,t,n);const a=t.seen.get(e);a.ref=s.innerType,r.default=JSON.parse(JSON.stringify(s.defaultValue))},$c=(e,t,r,n)=>{const s=e._zod.def;A(s.innerType,t,n);const a=t.seen.get(e);a.ref=s.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},Tc=(e,t,r,n)=>{const s=e._zod.def;A(s.innerType,t,n);const a=t.seen.get(e);a.ref=s.innerType;let i;try{i=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=i},Ec=(e,t,r,n)=>{const s=e._zod.def,a=t.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;A(a,t,n);const i=t.seen.get(e);i.ref=a},Oc=(e,t,r,n)=>{const s=e._zod.def;A(s.innerType,t,n);const a=t.seen.get(e);a.ref=s.innerType,r.readOnly=!0},Ic=(e,t,r,n)=>{const s=e._zod.def;A(s.innerType,t,n);const a=t.seen.get(e);a.ref=s.innerType},Pc=f("ZodISODateTime",(e,t)=>{Fa.init(e,t),$.init(e,t)});function Ac(e){return Bi(Pc,e)}const Zc=f("ZodISODate",(e,t)=>{Ua.init(e,t),$.init(e,t)});function Dc(e){return Hi(Zc,e)}const Rc=f("ZodISOTime",(e,t)=>{qa.init(e,t),$.init(e,t)});function Mc(e){return Vi(Rc,e)}const Lc=f("ZodISODuration",(e,t)=>{Ba.init(e,t),$.init(e,t)});function Fc(e){return Wi(Lc,e)}const Uc=(e,t)=>{Br.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>Po(e,r)},flatten:{value:r=>Io(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,lt,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,lt,2)}},isEmpty:{get(){return e.issues.length===0}}})},q=f("ZodError",Uc,{Parent:Error}),qc=zt(q),Bc=Ct(q),Hc=qe(q),Vc=Be(q),Wc=Do(q),Jc=Ro(q),Gc=Mo(q),Kc=Lo(q),Qc=Fo(q),Yc=Uo(q),Xc=qo(q),el=Bo(q),P=f("ZodType",(e,t)=>(O.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:De(e,"input"),output:De(e,"output")}}),e.toJSONSchema=pc(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(se(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>X(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>qc(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>Hc(e,r,n),e.parseAsync=async(r,n)=>Bc(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>Vc(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>Wc(e,r,n),e.decode=(r,n)=>Jc(e,r,n),e.encodeAsync=async(r,n)=>Gc(e,r,n),e.decodeAsync=async(r,n)=>Kc(e,r,n),e.safeEncode=(r,n)=>Qc(e,r,n),e.safeDecode=(r,n)=>Yc(e,r,n),e.safeEncodeAsync=async(r,n)=>Xc(e,r,n),e.safeDecodeAsync=async(r,n)=>el(e,r,n),e.refine=(r,n)=>e.check(Hl(r,n)),e.superRefine=r=>e.check(Vl(r)),e.overwrite=r=>e.check(pe(r)),e.optional=()=>ar(e),e.nullable=()=>ir(e),e.nullish=()=>ar(ir(e)),e.nonoptional=r=>Rl(e,r),e.array=()=>Nl(e),e.or=r=>un([e,r]),e.and=r=>$l(e,r),e.transform=r=>cr(e,Ol(r)),e.default=r=>Al(e,r),e.prefault=r=>Dl(e,r),e.catch=r=>Ll(e,r),e.pipe=r=>cr(e,r),e.readonly=()=>ql(e),e.describe=r=>{const n=e.clone();return ge.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return ge.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return ge.get(e);const n=e.clone();return ge.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),cn=f("_ZodString",(e,t)=>{St.init(e,t),P.init(e,t),e._zod.processJSONSchema=(n,s,a)=>hc(e,n,s);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(Yi(...n)),e.includes=(...n)=>e.check(tc(...n)),e.startsWith=(...n)=>e.check(rc(...n)),e.endsWith=(...n)=>e.check(nc(...n)),e.min=(...n)=>e.check(Ze(...n)),e.max=(...n)=>e.check(rn(...n)),e.length=(...n)=>e.check(nn(...n)),e.nonempty=(...n)=>e.check(Ze(1,...n)),e.lowercase=n=>e.check(Xi(n)),e.uppercase=n=>e.check(ec(n)),e.trim=()=>e.check(oc()),e.normalize=(...n)=>e.check(sc(...n)),e.toLowerCase=()=>e.check(ac()),e.toUpperCase=()=>e.check(ic()),e.slugify=()=>e.check(cc())}),tl=f("ZodString",(e,t)=>{St.init(e,t),cn.init(e,t),e.email=r=>e.check(_i(rl,r)),e.url=r=>e.check(Si(nl,r)),e.jwt=r=>e.check(qi(bl,r)),e.emoji=r=>e.check($i(sl,r)),e.guid=r=>e.check(Xt(nr,r)),e.uuid=r=>e.check(Ni(Ce,r)),e.uuidv4=r=>e.check(ki(Ce,r)),e.uuidv6=r=>e.check(zi(Ce,r)),e.uuidv7=r=>e.check(Ci(Ce,r)),e.nanoid=r=>e.check(Ti(ol,r)),e.guid=r=>e.check(Xt(nr,r)),e.cuid=r=>e.check(Ei(al,r)),e.cuid2=r=>e.check(Oi(il,r)),e.ulid=r=>e.check(Ii(cl,r)),e.base64=r=>e.check(Li(hl,r)),e.base64url=r=>e.check(Fi(gl,r)),e.xid=r=>e.check(Pi(ll,r)),e.ksuid=r=>e.check(Ai(ul,r)),e.ipv4=r=>e.check(Zi(dl,r)),e.ipv6=r=>e.check(Di(ml,r)),e.cidrv4=r=>e.check(Ri(pl,r)),e.cidrv6=r=>e.check(Mi(fl,r)),e.e164=r=>e.check(Ui(xl,r)),e.datetime=r=>e.check(Ac(r)),e.date=r=>e.check(Dc(r)),e.time=r=>e.check(Mc(r)),e.duration=r=>e.check(Fc(r))});function ze(e){return ji(tl,e)}const $=f("ZodStringFormat",(e,t)=>{C.init(e,t),cn.init(e,t)}),rl=f("ZodEmail",(e,t)=>{Oa.init(e,t),$.init(e,t)}),nr=f("ZodGUID",(e,t)=>{Ta.init(e,t),$.init(e,t)}),Ce=f("ZodUUID",(e,t)=>{Ea.init(e,t),$.init(e,t)}),nl=f("ZodURL",(e,t)=>{Ia.init(e,t),$.init(e,t)}),sl=f("ZodEmoji",(e,t)=>{Pa.init(e,t),$.init(e,t)}),ol=f("ZodNanoID",(e,t)=>{Aa.init(e,t),$.init(e,t)}),al=f("ZodCUID",(e,t)=>{Za.init(e,t),$.init(e,t)}),il=f("ZodCUID2",(e,t)=>{Da.init(e,t),$.init(e,t)}),cl=f("ZodULID",(e,t)=>{Ra.init(e,t),$.init(e,t)}),ll=f("ZodXID",(e,t)=>{Ma.init(e,t),$.init(e,t)}),ul=f("ZodKSUID",(e,t)=>{La.init(e,t),$.init(e,t)}),dl=f("ZodIPv4",(e,t)=>{Ha.init(e,t),$.init(e,t)}),ml=f("ZodIPv6",(e,t)=>{Va.init(e,t),$.init(e,t)}),pl=f("ZodCIDRv4",(e,t)=>{Wa.init(e,t),$.init(e,t)}),fl=f("ZodCIDRv6",(e,t)=>{Ja.init(e,t),$.init(e,t)}),hl=f("ZodBase64",(e,t)=>{Ga.init(e,t),$.init(e,t)}),gl=f("ZodBase64URL",(e,t)=>{Qa.init(e,t),$.init(e,t)}),xl=f("ZodE164",(e,t)=>{Ya.init(e,t),$.init(e,t)}),bl=f("ZodJWT",(e,t)=>{ei.init(e,t),$.init(e,t)}),ln=f("ZodNumber",(e,t)=>{Xr.init(e,t),P.init(e,t),e._zod.processJSONSchema=(n,s,a)=>gc(e,n,s),e.gt=(n,s)=>e.check(tr(n,s)),e.gte=(n,s)=>e.check(Ke(n,s)),e.min=(n,s)=>e.check(Ke(n,s)),e.lt=(n,s)=>e.check(er(n,s)),e.lte=(n,s)=>e.check(Ge(n,s)),e.max=(n,s)=>e.check(Ge(n,s)),e.int=n=>e.check(sr(n)),e.safe=n=>e.check(sr(n)),e.positive=n=>e.check(tr(0,n)),e.nonnegative=n=>e.check(Ke(0,n)),e.negative=n=>e.check(er(0,n)),e.nonpositive=n=>e.check(Ge(0,n)),e.multipleOf=(n,s)=>e.check(rr(n,s)),e.step=(n,s)=>e.check(rr(n,s)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function Qe(e){return Ji(ln,e)}const vl=f("ZodNumberFormat",(e,t)=>{ti.init(e,t),ln.init(e,t)});function sr(e){return Gi(vl,e)}const yl=f("ZodUnknown",(e,t)=>{ri.init(e,t),P.init(e,t),e._zod.processJSONSchema=(r,n,s)=>bc()});function or(){return Ki(yl)}const wl=f("ZodNever",(e,t)=>{ni.init(e,t),P.init(e,t),e._zod.processJSONSchema=(r,n,s)=>xc(e,r,n)});function jl(e){return Qi(wl,e)}const _l=f("ZodArray",(e,t)=>{si.init(e,t),P.init(e,t),e._zod.processJSONSchema=(r,n,s)=>jc(e,r,n,s),e.element=t.element,e.min=(r,n)=>e.check(Ze(r,n)),e.nonempty=r=>e.check(Ze(1,r)),e.max=(r,n)=>e.check(rn(r,n)),e.length=(r,n)=>e.check(nn(r,n)),e.unwrap=()=>e.element});function Nl(e,t){return lc(_l,e,t)}const kl=f("ZodObject",(e,t)=>{ai.init(e,t),P.init(e,t),e._zod.processJSONSchema=(r,n,s)=>_c(e,r,n,s),k(e,"shape",()=>t.shape),e.keyof=()=>Tl(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:or()}),e.loose=()=>e.clone({...e._zod.def,catchall:or()}),e.strict=()=>e.clone({...e._zod.def,catchall:jl()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>So(e,r),e.safeExtend=r=>$o(e,r),e.merge=r=>To(e,r),e.pick=r=>zo(e,r),e.omit=r=>Co(e,r),e.partial=(...r)=>Eo(dn,e,r[0]),e.required=(...r)=>Oo(mn,e,r[0])});function zl(e,t){const r={type:"object",shape:e??{},...x(t)};return new kl(r)}const Cl=f("ZodUnion",(e,t)=>{ii.init(e,t),P.init(e,t),e._zod.processJSONSchema=(r,n,s)=>Nc(e,r,n,s),e.options=t.options});function un(e,t){return new Cl({type:"union",options:e,...x(t)})}const Sl=f("ZodIntersection",(e,t)=>{ci.init(e,t),P.init(e,t),e._zod.processJSONSchema=(r,n,s)=>kc(e,r,n,s)});function $l(e,t){return new Sl({type:"intersection",left:e,right:t})}const dt=f("ZodEnum",(e,t)=>{li.init(e,t),P.init(e,t),e._zod.processJSONSchema=(n,s,a)=>vc(e,n,s),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,s)=>{const a={};for(const i of n)if(r.has(i))a[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new dt({...t,checks:[],...x(s),entries:a})},e.exclude=(n,s)=>{const a={...t.entries};for(const i of n)if(r.has(i))delete a[i];else throw new Error(`Key ${i} not found in enum`);return new dt({...t,checks:[],...x(s),entries:a})}});function Tl(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new dt({type:"enum",entries:r,...x(t)})}const El=f("ZodTransform",(e,t)=>{ui.init(e,t),P.init(e,t),e._zod.processJSONSchema=(r,n,s)=>wc(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Dr(e.constructor.name);r.addIssue=a=>{if(typeof a=="string")r.issues.push(be(a,r.value,t));else{const i=a;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),r.issues.push(be(i))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(a=>(r.value=a,r)):(r.value=s,r)}});function Ol(e){return new El({type:"transform",transform:e})}const dn=f("ZodOptional",(e,t)=>{di.init(e,t),P.init(e,t),e._zod.processJSONSchema=(r,n,s)=>Ic(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function ar(e){return new dn({type:"optional",innerType:e})}const Il=f("ZodNullable",(e,t)=>{mi.init(e,t),P.init(e,t),e._zod.processJSONSchema=(r,n,s)=>zc(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function ir(e){return new Il({type:"nullable",innerType:e})}const Pl=f("ZodDefault",(e,t)=>{pi.init(e,t),P.init(e,t),e._zod.processJSONSchema=(r,n,s)=>Sc(e,r,n,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Al(e,t){return new Pl({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Fr(t)}})}const Zl=f("ZodPrefault",(e,t)=>{fi.init(e,t),P.init(e,t),e._zod.processJSONSchema=(r,n,s)=>$c(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function Dl(e,t){return new Zl({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Fr(t)}})}const mn=f("ZodNonOptional",(e,t)=>{hi.init(e,t),P.init(e,t),e._zod.processJSONSchema=(r,n,s)=>Cc(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function Rl(e,t){return new mn({type:"nonoptional",innerType:e,...x(t)})}const Ml=f("ZodCatch",(e,t)=>{gi.init(e,t),P.init(e,t),e._zod.processJSONSchema=(r,n,s)=>Tc(e,r,n,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Ll(e,t){return new Ml({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Fl=f("ZodPipe",(e,t)=>{xi.init(e,t),P.init(e,t),e._zod.processJSONSchema=(r,n,s)=>Ec(e,r,n,s),e.in=t.in,e.out=t.out});function cr(e,t){return new Fl({type:"pipe",in:e,out:t})}const Ul=f("ZodReadonly",(e,t)=>{bi.init(e,t),P.init(e,t),e._zod.processJSONSchema=(r,n,s)=>Oc(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function ql(e){return new Ul({type:"readonly",innerType:e})}const Bl=f("ZodCustom",(e,t)=>{vi.init(e,t),P.init(e,t),e._zod.processJSONSchema=(r,n,s)=>yc(e,r)});function Hl(e,t={}){return uc(Bl,e,t)}function Vl(e){return dc(e)}const Wl="http://localhost:3000/api",$t=hn.create({baseURL:Wl,headers:{"Content-Type":"application/json"}}),Jl="http://localhost:3000/api",lr=e=>{if(!e)return"/placeholder.jpg";let t=typeof e=="string"?e:e.url;if(t.includes("images.unsplash.com")){const r=t.includes("?")?"&":"?";return t.includes("auto=format")?t:`${t}${r}auto=format&q=75&w=1000`}return t&&!t.startsWith("http")?`${Jl}${t}`:t},Tt=e=>{const t=e.priceInUSD||e.price||0,r=e.gallery?.map(i=>lr(i.image))||[];e.meta?.image&&r.unshift(lr(e.meta.image));const n=r.length>0?r[0]:"/placeholder.jpg";let s=[];e.specs&&Array.isArray(e.specs)&&(s=e.specs.filter(i=>i.label&&i.value).map(i=>({label:i.label,value:i.value,icon:i.icon||"Info"})));const a=e.categories&&e.categories.length>0?typeof e.categories[0]=="object"?e.categories[0].title:"General":"Tech";return{id:e.id,slug:e.slug,name:e.title,price:t,stock:typeof e.inventory=="number"?e.inventory:e.stock||0,description:e.meta?.description||"Sin descripcin disponible",images:r.length>0?r:["/placeholder.jpg"],image:n,specs:s,richText:e.content,variants:e.variants||[],category:a,promotion:e.promotion||null}},Lu=async(e={})=>{try{const{data:t}=await $t.get("/products",{params:e});return{docs:t.docs.map(Tt),totalDocs:t.totalDocs,totalPages:t.totalPages,page:t.page}}catch(t){throw console.error("Error fetching products:",t),t}},Fu=async e=>{try{const{data:t}=await $t.get("/products",{params:{where:{slug:{equals:e}},limit:1}});return!t.docs||t.docs.length===0?null:Tt(t.docs[0])}catch(t){throw console.error(`Error fetching product ${e}:`,t),t}},ur=async e=>{try{const{data:t}=await $t.get("/products",{params:{where:{id:{in:e}},limit:e.length}});return t.docs.map(Tt)}catch(t){return console.error("Error fetching products by IDs:",t),[]}},Gl=zl({id:un([ze(),Qe()]),name:ze().min(1,"El producto debe tener nombre"),price:Qe().min(0,"El precio debe ser positivo"),stock:Qe().optional(),variantName:ze().optional(),image:ze().optional()}).passthrough(),L=re(we((e,t)=>({cart:[],isCartOpen:!1,openCart:()=>e({isCartOpen:!0}),closeCart:()=>e({isCartOpen:!1}),toggleCart:()=>e(r=>({isCartOpen:!r.isCartOpen})),addToCart:(r,n=1,s={openDrawer:!0})=>{const a=Gl.safeParse(r);if(!a.success){console.error(" Intento de aadir producto invlido al carrito:",a.error),T.error("Error: Datos del producto invlidos. No se pudo aadir.");return}e(i=>{const c=i.cart.findIndex(d=>d.id===r.id),l=c!==-1?i.cart[c].quantity:0,u=r.stock||1/0;return u===0?(T.error(`${r.name} (${r.variantName||r.id}) est agotado!`),{...i}):l+n>u?(T.error(`Solo quedan ${u} unidades de ${r.name} (${r.variantName||r.id}). No se puede aadir la cantidad solicitada.`),{...i}):c!==-1?(T.success(`Se aadi otro ${r.name} al carrito`),{cart:i.cart.map((m,p)=>p===c?{...m,quantity:m.quantity+n}:m),isCartOpen:s.openDrawer?!0:i.isCartOpen}):(T.success(`${r.name} aadido al carrito`),{cart:[...i.cart,{...r,quantity:n}],isCartOpen:s.openDrawer?!0:i.isCartOpen})})},addBundleToCart:async r=>{const{id:n,name:s,items:a,discountPercentage:i}=r,c=await ur(a.map(l=>l.productId));e(l=>{let u=[...l.cart];const d=[];for(const m of a){const p=c.find(N=>N.id===m.productId);if(!p)return console.warn(`Producto con ID ${m.productId} no encontrado para el bundle.`),T.error(`Error al aadir el bundle "${s}". Producto no encontrado.`),l;const h=p.variants?.find(N=>N.id===m.variantId)||p.variants?.[0],b=p.price+(h?.priceModifier||0),v=m.quantity||1,_=h?.stock||p.stock||1/0,S=u.find(N=>N.originalId===p.id&&N.variantId===h?.id),w=S?S.quantity:0;if(_===0||w+v>_){const N=`${p.name} (${h?.name||"Base"})`;return T.error(`No hay suficiente stock para "${N}" en el bundle "${s}".`),l}const y=b*(1-i/100);d.push({...p,id:`${p.id}-${h?.id||"base"}-bundle-${r.id}`,originalId:p.id,variantId:h?.id,variantName:h?.name,price:y,originalItemPrice:b,quantity:v,isBundled:!0,bundleId:r.id,bundleName:r.name})}return d.forEach(m=>{const p=u.findIndex(h=>h.id===m.id);p!==-1?u[p].quantity+=m.quantity:u.push(m)}),T.success(`Bundle "${s}" aadido al carrito con un ${i}% de descuento!`),{cart:u,isCartOpen:!0}})},removeFromCart:r=>{e(n=>({cart:n.cart.filter(s=>s.id!==r)})),T.error("Producto eliminado del carrito")},increaseQuantity:r=>{e(n=>{const s=n.cart.find(a=>a.id===r);if(s){const a=s.stock||1/0;if(s.quantity+1>a)return T.error(`Mximo stock alcanzado para ${s.name} (${s.variantName||s.id})`),{...n}}return{cart:n.cart.map(a=>a.id===r?{...a,quantity:a.quantity+1}:a)}})},decreaseQuantity:r=>{e(n=>{const s=n.cart.find(a=>a.id===r);return s&&s.quantity>1?{cart:n.cart.map(a=>a.id===r?{...a,quantity:a.quantity-1}:a)}:{cart:n.cart.filter(a=>a.id!==r)}})},validateCart:()=>{e(r=>({cart:r.cart.filter(s=>s.quantity>0).map(s=>{const a=s.stock||1/0;return{...s,quantity:Math.min(s.quantity,a)}})}))},clearCart:()=>e({cart:[]}),getCartTotal:()=>t().cart.reduce((n,s)=>n+s.price*s.quantity,0),getCartCount:()=>t().cart.reduce((n,s)=>n+s.quantity,0),syncStock:async()=>{const r=t();if(r.cart.length===0)return;const n=[...new Set(r.cart.map(s=>s.originalId||s.id))];try{const s=await ur(n);let a=!1,i=[];const c=r.cart.map(l=>{const u=s.find(m=>m.id===(l.originalId||l.id));if(!u)return l;let d=u.stock||0;if(l.variantId&&u.variants){const m=u.variants.find(p=>p.id===l.variantId);m&&(d=m.stock||0)}return l.quantity>d?(a=!0,d===0?(i.push(`"${l.name}" se ha agotado y fue eliminado.`),null):(i.push(`Stock de "${l.name}" bajo. Cantidad ajustada a ${d}.`),{...l,quantity:d})):l}).filter(Boolean);a&&(e({cart:c}),i.forEach(l=>T(l,{icon:""})))}catch(s){console.error("Failed to sync stock:",s)}}}),{name:"cart-storage",partialize:e=>({cart:e.cart})})),pn=re(we((e,t)=>({isAuthenticated:!1,currentUser:null,users:[],login:(r,n)=>{const a=t().users.find(i=>i.email===r&&i.password===n);return a?(e({isAuthenticated:!0,currentUser:a}),{success:!0}):{success:!1,message:"Credenciales invlidas"}},register:(r,n,s)=>{if(t().users.some(c=>c.email===n))return{success:!1,message:"El correo ya est registrado"};const i={id:Date.now(),name:r,email:n,password:s};return e(c=>({users:[...c.users,i],isAuthenticated:!0,currentUser:i})),{success:!0}},logout:()=>e({isAuthenticated:!1,currentUser:null})}),{name:"auth-storage",partialize:e=>({isAuthenticated:e.isAuthenticated,currentUser:e.currentUser,users:e.users})})),mt=re(we((e,t)=>({wishlist:[],isWishlistOpen:!1,openWishlist:()=>e({isWishlistOpen:!0}),closeWishlist:()=>e({isWishlistOpen:!1}),toggleWishlist:()=>e(r=>({isWishlistOpen:!r.isWishlistOpen})),toggleItem:r=>{const{wishlist:n}=t();n.find(a=>a.id===r.id)?(e({wishlist:n.filter(a=>a.id!==r.id)}),T.success("Eliminado de favoritos")):(e({wishlist:[...n,r]}),T.success("Aadido a favoritos"))},isInWishlist:r=>t().wishlist.some(n=>n.id===r),clearWishlist:()=>e({wishlist:[]})}),{name:"wishlist-storage"})),z={cpu:"Cpu",battery:"Battery",screen:"Smartphone",wifi:"Wifi",camera:"Camera",storage:"HardDrive",ram:"Zap",sound:"Speaker",controller:"Gamepad"},pt=[{id:"phone-001",name:"Horizon Note Series - Edition 13",slug:"horizon-note-series-edition-13",price:899,stock:45,category:"Celulares",isNew:!0,isFeatured:!0,description:"La culminacin del diseo minimalista. El Horizon Note 13 redefine la fotografa mvil con su sensor de espectro completo y un acabado en titanio cepillado que se siente imposiblemente ligero.",image:"https://images.unsplash.com/photo-1616348436168-de43ad0db179?auto=format&fit=crop&q=75&w=800",images:["https://images.unsplash.com/photo-1616348436168-de43ad0db179?auto=format&fit=crop&q=75&w=800","https://images.unsplash.com/photo-1611791485440-24e8401cf186?auto=format&fit=crop&q=75&w=800"],specs:[{label:"Procesador",value:"Quantum Snap 8 Gen 3",icon:z.cpu},{label:"Pantalla",value:'6.8" OLED 120Hz',icon:z.screen},{label:"Cmara",value:"200MP Wide",icon:z.camera},{label:"Batera",value:"5000mAh",icon:z.battery}]},{id:"phone-002",name:"Aether Pro Max - Titanium",slug:"aether-pro-max-titanium",price:1199,stock:12,category:"Celulares",isNew:!0,isFeatured:!0,description:"Forjado en titanio aeroespacial. El Aether Pro Max no es solo un telfono, es una declaracin de poder. Chip A17 Pro para gaming de consola en tu bolsillo.",image:"https://images.unsplash.com/photo-1696446701796-da61225697cc?auto=format&fit=crop&q=75&w=800",images:["https://images.unsplash.com/photo-1696446701796-da61225697cc?auto=format&fit=crop&q=75&w=800","https://images.unsplash.com/photo-1695048133142-1a20484d2569?auto=format&fit=crop&q=75&w=800"],specs:[{label:"Chip",value:"A17 Pro Neural",icon:z.cpu},{label:"Material",value:"Titanio Grado 5",icon:z.ram},{label:"Almacenamiento",value:"1TB NVMe",icon:z.storage}]},{id:"comp-001",name:"Lumina Air - M3 Silicon",slug:"lumina-air-m3-silicon",price:1499,stock:20,category:"Computacin",isNew:!0,isFeatured:!0,description:"Tan ligero que olvidas que est ah, hasta que lo enciendes. El Lumina Air con chip M3 ofrece 18 horas de batera y un silencio absoluto gracias a su diseo sin ventiladores.",image:"https://images.unsplash.com/photo-1517336714731-489689fd1ca4?auto=format&fit=crop&q=75&w=800",images:["https://images.unsplash.com/photo-1517336714731-489689fd1ca4?auto=format&fit=crop&q=75&w=800","https://images.unsplash.com/photo-1611186871348-b1ce696e52c9?auto=format&fit=crop&q=75&w=800"],specs:[{label:"Chip",value:"M3 8-Core",icon:z.cpu},{label:"Memoria",value:"16GB Unified",icon:z.ram},{label:"Peso",value:"1.24 kg",icon:z.wifi}]},{id:"comp-002",name:"Titan Blade 16 - RTX Edition",slug:"titan-blade-16-rtx-edition",price:2899,stock:5,category:"Computacin",isNew:!1,isFeatured:!1,description:"Una bestia encadenada en un chasis de aluminio negro. Equipado con la RTX 4090, este porttil destroza cualquier benchmark de escritorio.",image:"https://images.unsplash.com/photo-1593640408182-31c70c8268f5?auto=format&fit=crop&q=75&w=800",images:["https://images.unsplash.com/photo-1593640408182-31c70c8268f5?auto=format&fit=crop&q=75&w=800"],specs:[{label:"GPU",value:"RTX 4090 16GB",icon:z.cpu},{label:"Pantalla",value:"240Hz OLED",icon:z.screen},{label:"RAM",value:"64GB DDR5",icon:z.ram}]},{id:"audio-001",name:"Silence X - Series 5",slug:"silence-x-series-5",price:349,stock:100,category:"Audio",isNew:!1,isFeatured:!0,description:"El mundo exterior desaparece. Nuestra cancelacin de ruido adaptativa de quinta generacin ajusta el silencio 500 veces por segundo.",image:"https://images.unsplash.com/photo-1618366712010-f4ae9c647dcb?auto=format&fit=crop&q=75&w=800",images:["https://images.unsplash.com/photo-1618366712010-f4ae9c647dcb?auto=format&fit=crop&q=75&w=800"],specs:[{label:"Batera",value:"30 Horas",icon:z.battery},{label:"Cancelacin",value:"ANC Pro Gen 5",icon:z.sound},{label:"Drivers",value:"40mm Carbon",icon:z.ram}]},{id:"audio-002",name:"Pod Pro 2 - Type C",slug:"pod-pro-2-type-c",price:249,stock:150,category:"Audio",isNew:!0,isFeatured:!1,description:"Audio espacial que te rodea. Ahora con USB-C y resistencia al polvo IP54. La experiencia inalmbrica definitiva.",image:"https://images.unsplash.com/photo-1603351154351-5cf99bc756f8?auto=format&fit=crop&q=75&w=800",images:["https://images.unsplash.com/photo-1603351154351-5cf99bc756f8?auto=format&fit=crop&q=75&w=800"],specs:[{label:"Chip",value:"H2 Audio",icon:z.cpu},{label:"Resistencia",value:"IP54",icon:z.wifi},{label:"Estuche",value:"MagSafe + USB-C",icon:z.battery}]},{id:"game-001",name:"Nexus Console V - Core Edition",slug:"nexus-console-v-core-edition",price:499,stock:8,category:"Gaming",isNew:!1,isFeatured:!0,description:"Juega como nunca antes. Tiempos de carga inexistentes, retroalimentacin hptica y audio 3D en una arquitectura personalizada RDNA 2.",image:"https://images.unsplash.com/photo-1606144042614-b2417e99c4e3?auto=format&fit=crop&q=75&w=800",images:["https://images.unsplash.com/photo-1606144042614-b2417e99c4e3?auto=format&fit=crop&q=75&w=800"],specs:[{label:"SSD",value:"825GB Custom",icon:z.storage},{label:"Salida",value:"4K @ 120Hz",icon:z.screen},{label:"Mando",value:"DualSense Haptic",icon:z.controller}]},{id:"game-002",name:"Switch OLED - Zelda Edition",slug:"switch-oled-zelda-edition",price:359,stock:30,category:"Gaming",isNew:!0,isFeatured:!1,description:"Pantalla vibrante de 7 pulgadas. Juega en modo porttil, sobremesa o TV. Edicin limitada con grabados rnicos dorados.",image:"https://images.unsplash.com/photo-1578303512597-81e6cc155b3e?auto=format&fit=crop&q=75&w=800",images:["https://images.unsplash.com/photo-1578303512597-81e6cc155b3e?auto=format&fit=crop&q=75&w=800"],specs:[{label:"Pantalla",value:'7" OLED',icon:z.screen},{label:"Almacenamiento",value:"64GB",icon:z.storage},{label:"Modos",value:"3 en 1",icon:z.controller}]}],dr=["Ultra","Neo","Prime","Elite","Max","Pro","Slim","Quantum","Fusion","Core"],mr=["Midnight","Starlight","Carbon","Phantom","Silver","Gold","Forest","Deep Purple"];function Kl(e=192){const t=[];for(let r=0;r<e;r++){const n=pt[r%pt.length],s=dr[Math.floor(Math.random()*dr.length)],a=mr[Math.floor(Math.random()*mr.length)],i=r+10,c=`${n.name.split("-")[0].trim()} ${s} - ${a}`,l=c.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,""),u=.8+Math.random()*.4,d=Math.round(n.price*u*100)/100;t.push({...n,id:`gen-${n.category.substring(0,3).toLowerCase()}-${i}`,name:c,slug:l,price:d,stock:Math.floor(Math.random()*100),isNew:Math.random()>.8,isFeatured:Math.random()>.9})}return t}const Ql=[...pt,...Kl(192)],Yl=({isOpen:e,onClose:t})=>{const[r,n]=g.useState(""),[s,a]=g.useState([]),i=g.useRef(null),c=Me();g.useEffect(()=>{e&&setTimeout(()=>i.current?.focus(),100)},[e]),g.useEffect(()=>{if(r.trim()===""){a([]);return}const u=Ql.filter(d=>d.name.toLowerCase().includes(r.toLowerCase())||d.category.toLowerCase().includes(r.toLowerCase()));a(u)},[r]);const l=u=>{t(),c(`/product/${u}`)};return o.jsx(R,{children:e&&o.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-slate-900/50 backdrop-blur-sm flex items-start justify-center pt-20",onClick:t,children:o.jsxs(j.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"w-full max-w-3xl bg-white rounded-2xl shadow-2xl overflow-hidden mx-4",onClick:u=>u.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center p-4 border-b border-slate-100",children:[o.jsx(bt,{className:"text-slate-400 ml-2",size:24}),o.jsx("input",{ref:i,type:"text",placeholder:"Buscar productos, categoras...",className:"flex-1 h-12 px-4 text-lg text-slate-800 placeholder-slate-400 outline-none",value:r,onChange:u=>n(u.target.value)}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:o.jsx(G,{className:"text-slate-500",size:24})})]}),o.jsx("div",{className:"max-h-[60vh] overflow-y-auto bg-slate-50",children:r===""?o.jsx("div",{className:"p-10 text-center text-slate-400",children:o.jsx("p",{children:"Empieza a escribir para buscar..."})}):s.length>0?o.jsx("ul",{className:"divide-y divide-slate-100",children:s.map(u=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>l(u.id),className:"w-full flex items-center p-4 hover:bg-white transition-colors group text-left",children:[o.jsx("img",{src:u.image,alt:u.name,className:"w-16 h-16 object-cover rounded-lg bg-slate-200"}),o.jsxs("div",{className:"ml-4 flex-1",children:[o.jsx("h4",{className:"font-semibold text-slate-900 group-hover:text-indigo-600 transition-colors",children:u.name}),o.jsx("p",{className:"text-sm text-slate-500",children:u.category})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("span",{className:"block font-bold text-slate-900",children:["$",u.price]}),u.promotion&&u.promotion.type==="percentage"&&o.jsxs("span",{className:"text-xs text-green-600 font-medium",children:["-",u.promotion.value,"%"]})]}),o.jsx(br,{className:"ml-4 text-slate-300 group-hover:text-slate-500"})]})},u.id))}):o.jsx("div",{className:"p-10 text-center text-slate-500",children:o.jsxs("p",{children:['No encontramos nada para "',r,'"']})})}),o.jsx("div",{className:"bg-slate-100 px-4 py-3 text-xs text-slate-500 text-right",children:"Presiona ESC para cerrar"})]})})})};function Xl(...e){return wn(jn(e))}const Re=({src:e,alt:t,className:r,...n})=>{const[s,a]=g.useState(!1),i="https://placehold.co/600x600/png?text=No+Image",c=()=>{a(!0),console.warn(`[IMAGE_ERROR]: Fall la carga de la imagen: ${e}`)};return o.jsx("img",{src:s||!e?i:e,alt:t||"Producto",className:Xl("transition-opacity duration-500 ease-in-out",s?"opacity-50":"opacity-100",r),onError:c,loading:"lazy",draggable:"false",...n})},eu=({activeMenu:e,config:t,onClose:r})=>{const n=t[e];return n?o.jsx(R,{children:e&&o.jsx(j.div,{layoutId:"mega-menu-container",initial:{opacity:0,y:10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:10,height:0},transition:{type:"spring",stiffness:300,damping:30},className:"absolute top-full left-0 w-full bg-white/90 backdrop-blur-xl border-b border-white/20 shadow-2xl z-40 overflow-hidden",onMouseLeave:r,children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs(j.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.2},className:"grid grid-cols-12 gap-8",children:[n.type==="grid"&&n.columns&&o.jsx("div",{className:"col-span-4 grid grid-cols-2 gap-8 border-r border-slate-200/50 pr-8",children:n.columns.map((s,a)=>o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4",children:s.title}),o.jsx("ul",{className:"space-y-3",children:s.items.map((i,c)=>o.jsx("li",{children:o.jsx(E,{to:i.href,onClick:r,className:"block text-sm font-medium text-slate-700 hover:text-indigo-600 hover:translate-x-1 transition-all",children:i.label})},c))})]},a))}),n.type==="visual-list"&&o.jsxs("div",{className:"col-span-4 border-r border-slate-200/50 pr-8",children:[o.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4",children:"Explorar por Estilo"}),o.jsx("ul",{className:"space-y-4",children:n.items.map((s,a)=>o.jsx("li",{className:"group",children:o.jsxs(E,{to:s.href,onClick:r,className:"block",children:[o.jsxs("span",{className:"flex items-center justify-between text-base font-bold text-slate-800 group-hover:text-indigo-600 transition-colors",children:[s.label,o.jsx(me,{size:16,className:"opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all"})]}),o.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:s.desc})]})},a))})]}),n.trending&&o.jsxs("div",{className:"col-span-5 px-8",children:[o.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4",children:"Tendencias"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.trending.map(s=>o.jsxs(E,{to:s.href,onClick:r,className:"group block",children:[o.jsxs("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden bg-slate-50 mb-3 border border-slate-100",children:[o.jsx(Re,{src:s.image,alt:s.label,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),s.badge&&o.jsx("span",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur text-[10px] font-bold px-2 py-0.5 rounded-full shadow-sm text-indigo-600",children:s.badge})]}),o.jsx("h4",{className:"text-sm font-bold text-slate-900 group-hover:text-indigo-600 transition-colors",children:s.label}),o.jsx("p",{className:"text-xs text-slate-500",children:s.price})]},s.id))})]}),o.jsx("div",{className:"col-span-3",children:n.editorial&&o.jsxs(E,{to:n.editorial.href,onClick:r,className:"block relative h-full rounded-2xl overflow-hidden group",children:[o.jsx(Re,{src:n.editorial.bgImage,alt:n.editorial.title,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),o.jsxs("div",{className:"absolute bottom-6 left-6 right-6",children:[o.jsx("span",{className:"text-[10px] font-bold text-white/80 uppercase tracking-widest border border-white/30 px-2 py-1 rounded mb-2 inline-block",children:"Editorial"}),o.jsx("h3",{className:"text-xl font-bold text-white leading-tight mb-1",children:n.editorial.title}),o.jsx("p",{className:"text-sm text-slate-300 line-clamp-2",children:n.editorial.subtitle}),o.jsxs("div",{className:"mt-4 flex items-center text-xs font-bold text-white gap-1 group-hover:gap-2 transition-all",children:["Ver Coleccin ",o.jsx(br,{size:14})]})]})]})})]},e)})})}):null},tu=({title:e,children:t,isOpen:r,onToggle:n})=>o.jsxs("div",{className:"border-b border-slate-100 last:border-0",children:[o.jsxs("button",{onClick:n,className:"flex items-center justify-between w-full py-3 text-lg font-medium text-slate-700",children:[e,o.jsx(j.div,{animate:{rotate:r?180:0},transition:{duration:.2},children:o.jsx(Ye,{size:20,className:"text-slate-400"})})]}),o.jsx(R,{children:r&&o.jsx(j.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:o.jsx("div",{className:"pb-4 pl-4 space-y-3",children:t})})})]}),ru=({config:e,onClose:t})=>{const[r,n]=g.useState(null),s=a=>{n(r===a?null:a)};return o.jsx("div",{className:"w-full px-4",children:Object.entries(e).map(([a,i])=>o.jsxs(tu,{title:i.label,isOpen:r===a,onToggle:()=>s(a),children:[i.type==="grid"&&i.columns?.map((c,l)=>o.jsxs("div",{className:"mb-4 last:mb-0",children:[o.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:c.title}),o.jsx("div",{className:"flex flex-col gap-2",children:c.items.map((u,d)=>o.jsx(E,{to:u.href,onClick:t,className:"text-sm text-slate-600 hover:text-indigo-600",children:u.label},d))})]},l)),i.type==="visual-list"&&o.jsx("div",{className:"flex flex-col gap-3",children:i.items.map((c,l)=>o.jsxs(E,{to:c.href,onClick:t,className:"flex items-center justify-between text-sm font-medium text-slate-700 bg-slate-50 p-3 rounded-lg",children:[c.label,o.jsx(me,{size:14,className:"text-slate-400"})]},l))}),i.editorial&&o.jsxs(E,{to:i.editorial.href,onClick:t,className:"block mt-4 relative rounded-xl overflow-hidden h-32",children:[o.jsx("img",{src:i.editorial.bgImage,alt:"Promo",className:"absolute inset-0 w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:o.jsxs("span",{className:"text-white font-bold text-sm border border-white/50 px-3 py-1 rounded",children:["Ver ",i.editorial.title]})})]})]},a))})},nu=({dealCount:e})=>o.jsxs(E,{to:"/?filter=offers",className:"relative flex items-center gap-1.5 text-sm font-medium text-slate-700 hover:text-rose-600 transition-colors group",children:[o.jsx("span",{children:"Ofertas"}),e>0&&o.jsxs("span",{className:"relative flex h-2 w-2",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-rose-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-rose-500"})]}),o.jsxs(j.span,{initial:{opacity:0,y:-5},whileHover:{opacity:1,y:0},className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-rose-600 text-white text-[10px] font-bold px-2 py-1 rounded-full whitespace-nowrap pointer-events-none",children:["-",e," items hoy",o.jsx("div",{className:"absolute bottom-[-4px] left-1/2 -translate-x-1/2 w-0 h-0 border-l-[4px] border-l-transparent border-r-[4px] border-r-transparent border-t-[4px] border-t-rose-600"})]})]}),su=g.forwardRef(({label:e,id:t,name:r,type:n="text",placeholder:s,value:a,onChange:i,onBlur:c,error:l,touched:u,icon:d,className:m="",...p},h)=>{const b=()=>l&&u?"border-red-500 focus:border-red-500 focus:ring-red-500 bg-red-50":!l&&u&&a?"border-green-500 focus:border-green-500 focus:ring-green-500 bg-green-50":"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 bg-white";return o.jsxs("div",{className:`w-full space-y-1 ${m}`,children:[e&&o.jsx("label",{htmlFor:t||r,className:"block text-sm font-medium text-slate-700",children:e}),o.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d&&o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:o.jsx(d,{size:18})}),o.jsx("input",{ref:h,id:t||r,name:r,type:n,value:a,onChange:i,onBlur:c,placeholder:s,className:`
            block w-full rounded-lg border-2 py-3
            transition-all duration-200 outline-none
            focus:ring-2 focus:ring-offset-1
            sm:text-sm
            ${d?"pl-10":"pl-4"} 
            pr-10
            ${b()}
          `,...p}),o.jsxs("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:[u&&l&&o.jsx(_n,{className:"text-red-500",size:18}),u&&!l&&a&&o.jsx(Nn,{className:"text-green-500",size:18})]})]}),o.jsx(R,{children:u&&l&&o.jsx(j.p,{initial:{opacity:0,height:0,y:-5},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0},className:"text-xs text-red-600 mt-1 ml-1 font-medium",children:l})})]})});su.displayName="Input";const ou=[{q:"Cunto tarda el envo?",a:"Generalmente 24-48 horas hbiles."},{q:"Tienen garanta?",a:"S, 2 aos de garanta oficial."},{q:"Cmo devuelvo un producto?",a:"Contctanos dentro de los 30 das."}],au=({isOpen:e,onClose:t})=>{const[r,n]=g.useState(""),[s,a]=g.useState(""),[i,c]=g.useState(null),l=ou.filter(d=>d.q.toLowerCase().includes(r.toLowerCase())||d.a.toLowerCase().includes(r.toLowerCase())),u=d=>{d.preventDefault(),s&&(c("En camino - Llega maana"),T.success("Estado del pedido actualizado"))};return o.jsx(R,{children:e&&o.jsxs(o.Fragment,{children:[o.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[60]"}),o.jsxs(j.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-y-0 right-0 w-full max-w-sm bg-white shadow-2xl z-[70] flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-100",children:[o.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[o.jsx(kn,{className:"text-indigo-600"})," Centro de Ayuda"]}),o.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-100",children:o.jsx(G,{size:20})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[o.jsxs("section",{children:[o.jsx("h3",{className:"text-sm font-bold text-slate-900 mb-3",children:"Preguntas Frecuentes"}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx("input",{type:"text",placeholder:"Buscar ayuda...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:border-indigo-500",value:r,onChange:d=>n(d.target.value)}),o.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16})]}),o.jsxs("div",{className:"space-y-2",children:[l.map((d,m)=>o.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[o.jsx("p",{className:"text-sm font-medium text-slate-900",children:d.q}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:d.a})]},m)),l.length===0&&o.jsx("p",{className:"text-xs text-slate-400 text-center",children:"No se encontraron resultados."})]})]}),o.jsxs("section",{children:[o.jsxs("h3",{className:"text-sm font-bold text-slate-900 mb-3 flex items-center gap-2",children:[o.jsx(zn,{size:16})," Rastrear Pedido"]}),o.jsxs("form",{onSubmit:u,className:"flex gap-2",children:[o.jsx("input",{type:"text",placeholder:"# Orden (ej. 1234)",className:"flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm",value:s,onChange:d=>a(d.target.value)}),o.jsx("button",{type:"submit",className:"bg-slate-900 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Ver"})]}),i&&o.jsx("div",{className:"mt-2 p-3 bg-emerald-50 text-emerald-700 text-sm rounded-lg border border-emerald-100 font-medium",children:i})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-sm font-bold text-slate-900 mb-3",children:"Contacto Directo"}),o.jsxs("button",{className:"w-full flex items-center justify-center gap-2 bg-green-500 text-white py-3 rounded-xl font-bold hover:bg-green-600 transition-colors shadow-lg shadow-green-500/20",children:[o.jsx(Cn,{size:20})," WhatsApp Business"]}),o.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Tiempo de respuesta: ~5 min"})]})]})]})]})})},pr={explorar:{label:"Explorar",type:"grid",columns:[{title:"Dispositivos",items:[{label:"Laptops Pro",href:"/?category=Computadoras"},{label:"Smartphones AI",href:"/?category=Telefonos"},{label:"Tablets Creativas",href:"/?category=Tablets"},{label:"Wearables",href:"/?category=Wearables"}]},{title:"Audio & Hogar",items:[{label:"Auriculares Noise-Cancelling",href:"/?category=Audio"},{label:"Altavoces Inteligentes",href:"/?category=Audio"},{label:"Domtica",href:"/?category=SmartHome"},{label:"Accesorios Desk",href:"/?category=Accesorios"}]}],trending:[{id:"trend-1",label:"Sony WH-1000XM5",price:"$349",image:"https://images.unsplash.com/photo-1618366712010-f4ae9c647dcb?auto=format&fit=crop&w=300&q=80",href:"/product/1",badge:"Top Rated"},{id:"trend-2",label:"Keychron Q1 Pro",price:"$199",image:"https://images.unsplash.com/photo-1587829741301-dc798b91add1?auto=format&fit=crop&w=300&q=80",href:"/product/7",badge:"New"}],editorial:{title:"La Oficina del Futuro",subtitle:"Minimalismo y productividad.",bgImage:"https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&w=600&q=80",href:"/?collection=office"}},colecciones:{label:"Colecciones",type:"visual-list",items:[{label:"Minimalist Desk",desc:"Esttica limpia para creadores",href:"/?collection=minimalist",icon:"Box"},{label:"Gaming Setup",desc:"Alto rendimiento y RGB sutil",href:"/?collection=gaming",icon:"Zap"},{label:"Digital Nomad",desc:"Portabilidad sin compromisos",href:"/?collection=nomad",icon:"Globe"}],editorial:{title:"Edicin Limitada",subtitle:"Accesorios de Titanio.",bgImage:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?auto=format&fit=crop&w=600&q=80",href:"/?collection=titanium"}}},iu=()=>{const[e,t]=g.useState(!1),[r,n]=g.useState(!1),[s,a]=g.useState(!1),[i,c]=g.useState(!1),[l,u]=g.useState(!1),[d,m]=g.useState(null),p=g.useRef(null),h=Me(),b=L(F=>F.openCart),v=L(F=>F.getCartCount()),{isAuthenticated:_,currentUser:S,logout:w}=pn(),y=mt(F=>F.wishlist.length),N=mt(F=>F.openWishlist);g.useEffect(()=>{const F=()=>{n(window.scrollY>10)};return window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F)},[]);const H=()=>{w(),a(!1),h("/")},Ot=F=>{p.current&&clearTimeout(p.current),m(F)},fn=()=>{p.current=setTimeout(()=>{m(null)},150)};return o.jsxs(o.Fragment,{children:[o.jsx(Yl,{isOpen:i,onClose:()=>c(!1)}),o.jsx(au,{isOpen:l,onClose:()=>u(!1)}),o.jsxs("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-500 border-b ${r||d?"bg-white/90 backdrop-blur-xl border-slate-200/50 py-3 shadow-sm":"bg-white/50 backdrop-blur-md border-transparent py-5"}`,onMouseLeave:fn,children:[o.jsx("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-50",children:o.jsxs("div",{className:"flex items-center justify-between h-10",children:[o.jsxs(E,{to:"/",className:"flex items-center gap-2 group z-50",children:[o.jsxs("div",{className:"relative flex items-center justify-center w-8 h-8 rounded-lg bg-slate-900 text-white overflow-hidden group-hover:shadow-lg transition-all duration-300",children:[o.jsx(Xe,{size:18,className:"relative z-10 fill-white"}),o.jsx("div",{className:"absolute inset-0 bg-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),o.jsx("span",{className:"text-xl font-bold text-slate-900 tracking-tight group-hover:text-slate-700 transition-colors",children:"TechNova"})]}),o.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[o.jsxs("div",{className:"relative h-10 flex items-center",onMouseEnter:()=>Ot("explorar"),children:[o.jsxs("button",{className:`text-sm font-medium transition-colors flex items-center gap-1 ${d==="explorar"?"text-indigo-600":"text-slate-600 hover:text-slate-900"}`,"aria-expanded":d==="explorar",children:["Explorar ",o.jsx(Ye,{size:14,className:`transition-transform duration-300 ${d==="explorar"?"rotate-180":""}`})]}),d==="explorar"&&o.jsx("div",{className:"absolute top-full left-0 w-full h-8 bg-transparent"})]}),o.jsxs("div",{className:"relative h-10 flex items-center",onMouseEnter:()=>Ot("colecciones"),children:[o.jsxs("button",{className:`text-sm font-medium transition-colors flex items-center gap-1 ${d==="colecciones"?"text-indigo-600":"text-slate-600 hover:text-slate-900"}`,"aria-expanded":d==="colecciones",children:["Colecciones ",o.jsx(Ye,{size:14,className:`transition-transform duration-300 ${d==="colecciones"?"rotate-180":""}`})]}),d==="colecciones"&&o.jsx("div",{className:"absolute top-full left-0 w-full h-8 bg-transparent"})]}),o.jsx(nu,{dealCount:3}),o.jsx("button",{onClick:()=>u(!0),className:"text-sm font-medium text-slate-600 hover:text-slate-900 transition-colors",children:"Soporte"})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 z-50",children:[o.jsx("button",{onClick:()=>c(!0),className:"p-2 text-slate-500 hover:text-slate-900 transition-colors","aria-label":"Buscar",children:o.jsx(bt,{size:20})}),o.jsxs("button",{onClick:N,className:"relative p-2 text-slate-500 hover:text-red-500 transition-colors hidden sm:block","aria-label":"Favoritos",children:[o.jsx(Sn,{size:20}),y>0&&o.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full border border-white"})]}),o.jsx("div",{className:"h-4 w-px bg-slate-200 hidden sm:block mx-1"}),o.jsx("div",{className:"relative hidden md:block",children:_?o.jsxs("div",{className:"relative",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[o.jsx("button",{className:"flex items-center gap-2 py-2",children:o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-100 to-slate-200 flex items-center justify-center border border-white shadow-sm",children:o.jsx("span",{className:"text-xs font-bold text-indigo-700",children:S?.name?.charAt(0).toUpperCase()})})}),o.jsx(R,{children:s&&o.jsx(j.div,{initial:{opacity:0,y:15,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute right-0 pt-2 w-56 origin-top-right z-[60]",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden ring-1 ring-black ring-opacity-5",children:[o.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-100",children:[o.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Cuenta"}),o.jsx("p",{className:"text-sm font-bold text-slate-900 truncate mt-1",children:S?.name})]}),o.jsxs("div",{className:"py-1",children:[o.jsx(E,{to:"/profile",className:"block px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 transition-colors",children:"Mis Pedidos"}),o.jsx(E,{to:"/profile",className:"block px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 transition-colors",children:"Configuracin"})]}),o.jsx("div",{className:"py-1 border-t border-slate-100",children:o.jsxs("button",{onClick:H,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors flex items-center gap-2",children:[o.jsx($n,{size:14})," Cerrar Sesin"]})})]})})})]}):o.jsx(E,{to:"/login",className:"px-4 py-2 text-sm font-semibold text-white bg-slate-900 rounded-full hover:bg-slate-800 transition-all shadow-md hover:shadow-lg",children:"Entrar"})}),o.jsxs("button",{onClick:b,className:"relative p-2 text-slate-800 hover:text-indigo-600 transition-colors group",children:[o.jsx(vt,{size:22}),v>0&&o.jsx(j.span,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},className:"absolute top-0 right-0 bg-indigo-600 text-white text-[10px] font-bold rounded-full h-4 w-4 flex items-center justify-center ring-2 ring-white",children:v},v)]}),o.jsx("div",{className:"md:hidden ml-2",children:o.jsx("button",{onClick:()=>t(!0),className:"p-2 text-slate-800 hover:bg-slate-100 rounded-lg transition-colors",children:o.jsx(Tn,{size:24})})})]})]})}),o.jsx(eu,{activeMenu:d,config:pr,onClose:()=>m(null)}),o.jsx(R,{children:e&&o.jsxs(o.Fragment,{children:[o.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(!1),className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-50 md:hidden"}),o.jsxs(j.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 bottom-0 w-[85%] max-w-sm bg-white shadow-2xl z-50 md:hidden flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[o.jsxs("span",{className:"text-lg font-bold flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-slate-900 rounded-lg flex items-center justify-center",children:o.jsx(Xe,{className:"text-white",size:18,fill:"currentColor"})}),"TechNova"]}),o.jsx("button",{onClick:()=>t(!1),className:"p-2 bg-slate-100 rounded-full hover:bg-slate-200 transition-colors",children:o.jsx(G,{size:20,className:"text-slate-600"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto pt-4",children:[o.jsx(ru,{config:pr,onClose:()=>t(!1)}),o.jsxs("div",{className:"px-4 py-2 border-t border-slate-100 mt-4",children:[o.jsx(E,{to:"/?filter=offers",onClick:()=>t(!1),className:"flex items-center gap-2 px-3 py-3 text-lg font-medium text-slate-600 hover:bg-slate-50 rounded-xl",children:"Ofertas"}),o.jsx("button",{onClick:()=>{t(!1),u(!0)},className:"w-full text-left px-3 py-3 text-lg font-medium text-slate-600 hover:bg-slate-50 rounded-xl",children:"Ayuda y Soporte"})]})]}),o.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-100",children:_?o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-white border border-slate-200 flex items-center justify-center text-indigo-600 font-bold",children:S?.name?.charAt(0).toUpperCase()}),o.jsx("span",{className:"font-bold text-sm",children:S?.name})]}),o.jsx("button",{onClick:()=>{H(),t(!1)},className:"text-xs text-red-500 font-bold",children:"Salir"})]}):o.jsx(E,{to:"/login",onClick:()=>t(!1),className:"block w-full py-3 bg-slate-900 text-white text-center rounded-xl font-bold text-sm",children:"Iniciar Sesin"})})]})]})})]})]})},V=({to:e,children:t})=>o.jsx("li",{children:o.jsx(E,{to:e,className:"text-sm text-slate-400 hover:text-white transition-colors duration-200",children:t})}),Se=({href:e,children:t})=>o.jsx("a",{href:e,className:"h-10 w-10 flex items-center justify-center rounded-full bg-slate-900 text-slate-400 hover:bg-indigo-600 hover:text-white transition-all duration-300",target:"_blank",rel:"noopener noreferrer",children:t}),cu=()=>o.jsx("footer",{className:"bg-slate-950 text-slate-300 pt-16 pb-8 border-t border-slate-900",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs(E,{to:"/",className:"flex items-center gap-2 text-2xl font-bold text-white mb-4",children:[o.jsx(Xe,{className:"text-indigo-500 fill-indigo-500"}),o.jsx("span",{children:"TechNova"})]}),o.jsx("p",{className:"text-slate-400 text-sm leading-relaxed max-w-xs",children:"Tu destino premium para la tecnologa ms avanzada. Diseamos el futuro, un dispositivo a la vez."}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx(Se,{href:"#",children:o.jsx(En,{size:20})}),o.jsx(Se,{href:"#",children:o.jsx(On,{size:20})}),o.jsx(Se,{href:"#",children:o.jsx(In,{size:20})}),o.jsx(Se,{href:"#",children:o.jsx(Pn,{size:20})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-semibold mb-6 tracking-wide",children:"Tienda"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsx(V,{to:"/#products",children:"Laptops & Computadoras"}),o.jsx(V,{to:"/#products",children:"Tablets Creativas"}),o.jsx(V,{to:"/#products",children:"Audio Premium"}),o.jsx(V,{to:"/#products",children:"Accesorios"}),o.jsx(V,{to:"#",children:"Nuevos Lanzamientos"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-semibold mb-6 tracking-wide",children:"Soporte"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsx(V,{to:"#",children:"Centro de Ayuda"}),o.jsx(V,{to:"#",children:"Estado del Pedido"}),o.jsx(V,{to:"#",children:"Envos y Devoluciones"}),o.jsx(V,{to:"#",children:"Garanta TechNova"}),o.jsx(V,{to:"#",children:"Contctanos"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-semibold mb-6 tracking-wide",children:"Mantente al da"}),o.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Suscrbete para recibir ofertas exclusivas y novedades antes que nadie."}),o.jsxs("form",{className:"space-y-2",onSubmit:e=>e.preventDefault(),children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"email",placeholder:"tu@email.com",className:"w-full bg-slate-900 border border-slate-800 text-white text-sm rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all placeholder-slate-600"}),o.jsx("button",{type:"submit",className:"absolute right-1 top-1 bottom-1 bg-indigo-600 text-white p-2 rounded-md hover:bg-indigo-500 transition-colors",children:o.jsx(me,{size:16})})]}),o.jsx("p",{className:"text-xs text-slate-600",children:"Al suscribirte aceptas nuestra Poltica de Privacidad."})]})]})]}),o.jsxs("div",{className:"border-t border-slate-900 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("p",{className:"text-slate-500 text-sm",children:[" ",new Date().getFullYear()," TechNova Inc. Todos los derechos reservados."]}),o.jsxs("div",{className:"flex gap-6 text-sm text-slate-500",children:[o.jsx(E,{to:"#",className:"hover:text-slate-300 transition-colors",children:"Privacidad"}),o.jsx(E,{to:"#",className:"hover:text-slate-300 transition-colors",children:"Trminos"}),o.jsx(E,{to:"#",className:"hover:text-slate-300 transition-colors",children:"Cookies"})]})]})]})}),lu=()=>{const e=L(m=>m.isCartOpen),t=L(m=>m.closeCart),r=L(m=>m.cart),n=L(m=>m.removeFromCart),s=L(m=>m.increaseQuantity),a=L(m=>m.decreaseQuantity),i=L(m=>m.getCartTotal()),c=Me(),l=()=>{t(),c("/checkout")},u={visible:{opacity:1},hidden:{opacity:0}},d={visible:{x:0},hidden:{x:"100%"}};return o.jsx(R,{children:e&&o.jsxs(o.Fragment,{children:[o.jsx(j.div,{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[60]",variants:u,initial:"hidden",animate:"visible",exit:"hidden",onClick:t}),o.jsxs(j.div,{className:"fixed top-0 right-0 h-full w-full max-w-[400px] bg-white shadow-2xl flex flex-col z-[70] border-l border-gray-100",variants:d,initial:"hidden",animate:"visible",exit:"hidden",transition:{type:"spring",stiffness:300,damping:30,mass:.8},onClick:m=>m.stopPropagation(),children:[o.jsxs("header",{className:"px-6 py-4 border-b border-gray-50 flex justify-between items-center bg-white sticky top-0 z-10",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Carrito de Compras"}),o.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs font-medium px-2.5 py-1 rounded-full",children:r.length})]}),o.jsx("button",{onClick:t,className:"p-2 -mr-2 hover:bg-gray-50 rounded-full transition-colors text-gray-400 hover:text-gray-900",children:o.jsx(G,{size:20})})]}),o.jsx("div",{className:"flex-grow overflow-y-auto px-6 py-4 bg-white scrollbar-hide",children:r.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-6",children:[o.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mb-2",children:o.jsx(An,{className:"text-gray-300",size:32})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Tu carrito est vaco"}),o.jsx("p",{className:"text-gray-500 text-sm max-w-[200px] mx-auto",children:"Agrega productos increbles a tu carrito para verlos aqu."})]}),o.jsx("button",{onClick:t,className:"px-6 py-2.5 bg-gray-900 text-white text-sm font-medium rounded-lg hover:bg-gray-800 transition-all shadow-sm hover:shadow-md",children:"Seguir Comprando"})]}):o.jsx("ul",{className:"space-y-6",children:r.map(m=>o.jsxs(j.li,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"group flex gap-4",children:[o.jsx("div",{className:"w-20 h-24 bg-gray-50 rounded-lg overflow-hidden flex-shrink-0 border border-gray-100",children:o.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),o.jsxs("div",{className:"flex-grow flex flex-col justify-between py-0.5",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-900 line-clamp-2 leading-snug",children:m.name}),o.jsx("p",{className:"text-gray-500 text-xs mt-1",children:m.category})]}),o.jsx("button",{onClick:()=>n(m.id),className:"text-gray-300 hover:text-red-500 transition-colors p-1 -mr-1","aria-label":"Eliminar",children:o.jsx(et,{size:16})})]}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>a(m.id),className:"w-6 h-6 flex items-center justify-center bg-white rounded shadow-sm text-gray-500 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-all",disabled:m.quantity<=1,children:o.jsx(Zn,{size:12})}),o.jsx("span",{className:"text-xs font-semibold text-gray-900 w-3 text-center",children:m.quantity}),o.jsx("button",{onClick:()=>s(m.id),className:"w-6 h-6 flex items-center justify-center bg-white rounded shadow-sm text-gray-500 hover:text-gray-900 transition-all",children:o.jsx(Dn,{size:12})})]}),o.jsxs("p",{className:"font-semibold text-gray-900 text-sm",children:["$",(m.price*m.quantity).toFixed(2)]})]})]})]},m.id))})}),r.length>0&&o.jsxs("div",{className:"p-6 bg-white border-t border-gray-100 safe-bottom pb-8",children:[o.jsxs("div",{className:"space-y-3 mb-6",children:[o.jsxs("div",{className:"flex justify-between text-gray-500 text-sm",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["$",i.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-gray-500 text-sm",children:[o.jsx("span",{children:"Envo estimado"}),o.jsx("span",{className:"text-green-600 font-medium",children:"Gratis"})]}),o.jsxs("div",{className:"pt-4 border-t border-gray-100 flex justify-between items-end",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Total"}),o.jsxs("span",{className:"font-bold text-gray-900 text-xl tracking-tight",children:["$",i.toFixed(2)]})]})]}),o.jsxs("button",{onClick:l,className:"w-full bg-gray-900 text-white py-3.5 rounded-xl font-semibold hover:bg-black transition-all shadow-sm hover:shadow-lg hover:-translate-y-0.5 active:translate-y-0 flex items-center justify-center gap-2 group",children:["Ir a Pagar ",o.jsx(me,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})]})]})]})})},uu=()=>{const{isWishlistOpen:e,closeWishlist:t,wishlist:r,toggleItem:n}=mt(),s=L(l=>l.addToCart),a=l=>{s(l)},i={visible:{opacity:1},hidden:{opacity:0}},c={visible:{x:0},hidden:{x:"100%"}};return o.jsx(R,{children:e&&o.jsx(j.div,{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-[55]",variants:i,initial:"hidden",animate:"visible",exit:"hidden",onClick:t,children:o.jsxs(j.div,{className:"fixed top-0 right-0 h-full w-full max-w-sm bg-white shadow-2xl flex flex-col z-[60]",variants:c,transition:{type:"spring",stiffness:300,damping:30},onClick:l=>l.stopPropagation(),children:[o.jsxs("header",{className:"p-5 border-b border-slate-100 flex justify-between items-center bg-white",children:[o.jsxs("h2",{className:"text-xl font-bold text-slate-900",children:["Mis Favoritos (",r.length,")"]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-500",children:o.jsx(G,{size:20})})]}),o.jsx("div",{className:"flex-grow overflow-y-auto p-5 bg-slate-50",children:r.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center",children:o.jsx(et,{className:"text-slate-400",size:32})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-slate-900 font-medium",children:"Tu lista est vaca"}),o.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Guarda lo que te guste para despus."})]}),o.jsx("button",{onClick:t,className:"mt-4 px-6 py-2 bg-slate-900 text-white text-sm font-bold rounded-full hover:bg-slate-800",children:"Explorar Productos"})]}):o.jsx("ul",{className:"space-y-4",children:r.map(l=>o.jsxs("li",{className:"bg-white p-3 rounded-xl shadow-sm border border-slate-100 flex gap-4",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx("img",{src:l.image,alt:l.name,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-slate-900 text-sm line-clamp-1",children:l.name}),o.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:["$",l.price]})]}),o.jsxs("div",{className:"flex justify-between items-end mt-2",children:[o.jsxs("button",{onClick:()=>a(l),className:"flex items-center gap-1 text-xs font-bold text-indigo-600 hover:text-indigo-800",children:[o.jsx(vt,{size:14})," Mover al carrito"]}),o.jsx("button",{onClick:()=>n(l),className:"text-slate-400 hover:text-red-500 transition-colors",title:"Eliminar",children:o.jsx(et,{size:16})})]})]})]},l.id))})})]})})})},du=re(e=>({isNavigating:!1,startNavigation:()=>e({isNavigating:!0}),endNavigation:()=>e({isNavigating:!1})})),mu=()=>{const{isNavigating:e}=du();return o.jsx(R,{children:e&&o.jsx("div",{className:"fixed top-0 left-0 right-0 z-[100] h-0.5 bg-slate-100 overflow-hidden",children:o.jsx(j.div,{className:"h-full bg-indigo-600 shadow-[0_0_10px_#4f46e5]",initial:{width:"0%"},animate:{width:"80%"},exit:{width:"100%",opacity:0},transition:{duration:.8,ease:"easeInOut"}})})})},pu=re(e=>({isOpen:!1,activeProduct:null,openModal:t=>e({isOpen:!0,activeProduct:t}),closeModal:()=>e({isOpen:!1,activeProduct:null})})),ft={USD:1,EUR:.92,GBP:.79,MXN:17.05},fu={USD:"en-US",EUR:"de-DE",GBP:"en-GB",MXN:"es-MX"},fr=Object.keys(ft),hr=re(we((e,t)=>({currentCurrency:"USD",setCurrency:r=>{fr.includes(r)?e({currentCurrency:r}):console.warn(`Unsupported currency: ${r}`)},convertPrice:r=>{const{currentCurrency:n}=t(),s=ft[n]||1;return r*s},formatPrice:r=>{const{currentCurrency:n}=t(),s=ft[n]||1,a=r*s,i=fu[n]||"en-US";return new Intl.NumberFormat(i,{style:"currency",currency:n,minimumFractionDigits:2,maximumFractionDigits:2}).format(a)},getCurrencyOptions:()=>fr}),{name:"currency-storage",partialize:e=>({currentCurrency:e.currentCurrency})})),hu=()=>{const{currentCurrency:e,setCurrency:t,convertPrice:r,formatPrice:n,getCurrencyOptions:s}=hr();return g.useEffect(()=>{hr.getState()},[]),{currentCurrency:e,setCurrency:t,convertPrice:r,formatPrice:n,getCurrencyOptions:s}},gu=()=>{const e=Me(),{isOpen:t,activeProduct:r,closeModal:n}=pu(),s=L(y=>y.addToCart),{formatPrice:a}=hu(),[i,c]=g.useState(null),[l,u]=g.useState(1),[d,m]=g.useState(!1);if(g.useEffect(()=>{r&&(r.variants?.length>0?c(r.variants[0]):c(null),u(1))},[r]),g.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),!r)return null;const p=i?.image||r.image,h=r.price+(i?.priceModifier||0),b=(i?.stock||r.stock)>0,v=i?.stock||r.stock,_=()=>{b&&(m(!0),setTimeout(()=>{s({...r,image:p,price:h,variantName:i?.name,variantId:i?.id},l),m(!1),n()},1e3))},S=()=>{e(`/producto/${r.slug}`,{state:{productData:r}}),n()},w=o.jsx(R,{children:t&&o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6",children:[o.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:n,className:"absolute inset-0 bg-slate-900/40 backdrop-blur-md"}),o.jsxs(j.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.5,bounce:.3},className:"relative w-full max-w-5xl h-[85vh] max-h-[700px] bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row ring-1 ring-white/50",onClick:y=>y.stopPropagation(),children:[o.jsx("button",{onClick:n,className:"absolute top-5 right-5 z-30 p-2.5 bg-white rounded-full shadow-sm text-slate-400 hover:text-slate-900 transition-all duration-300 group",children:o.jsx(G,{size:20,className:"group-hover:rotate-90 transition-transform duration-300"})}),o.jsxs("div",{className:"w-full md:w-1/2 bg-gradient-to-br from-slate-50 to-white p-8 flex items-center justify-center relative",children:[o.jsx(j.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4},className:"w-full h-full max-h-[400px]",children:o.jsx(Re,{src:p,alt:r.name,priority:!0,className:"w-full h-full object-contain mix-blend-multiply drop-shadow-xl"})},p),r.promotion&&o.jsxs("div",{className:"absolute top-8 left-8 bg-slate-900/90 backdrop-blur text-white px-3 py-1.5 rounded-full text-xs font-bold tracking-wide shadow-lg",children:["-",r.promotion.value,"%"]})]}),o.jsxs("div",{className:"w-full md:w-1/2 p-8 md:p-10 flex flex-col overflow-y-auto custom-scrollbar",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-xs font-bold text-indigo-600 uppercase tracking-[0.2em] mb-3",children:r.category}),o.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2 leading-tight",children:r.name}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((y,N)=>o.jsx(Rn,{size:16,fill:"currentColor"},N))}),o.jsx("span",{className:"text-slate-400 font-medium",children:"4.9 (120+ Reviews)"})]})]}),o.jsx("p",{className:"text-slate-600 leading-relaxed mb-8 font-light",children:r.description}),o.jsxs("div",{className:"flex-grow",children:[r.variants&&r.variants.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("span",{className:"text-sm font-medium text-slate-900 block mb-3",children:["Color: ",o.jsx("span",{className:"text-slate-500 font-normal",children:i?.name})]}),o.jsx("div",{className:"flex flex-wrap gap-3",children:r.variants.map(y=>o.jsx("button",{onClick:()=>c(y),className:`group relative w-12 h-12 rounded-full flex items-center justify-center transition-all ${i?.id===y.id?"ring-2 ring-offset-2 ring-slate-900 scale-105":"hover:scale-105 opacity-80 hover:opacity-100"}`,children:o.jsx("span",{className:"w-full h-full rounded-full border border-slate-200 shadow-sm",style:{backgroundColor:y.colorCode||y.color}})},y.id))})]}),b&&o.jsxs("div",{className:"mb-8",children:[o.jsx("span",{className:"text-sm font-medium text-slate-900 block mb-3",children:"Cantidad"}),o.jsxs("div",{className:"flex items-center bg-slate-100 rounded-full w-fit p-1",children:[o.jsx("button",{onClick:()=>u(Math.max(1,l-1)),className:"w-10 h-10 flex items-center justify-center rounded-full bg-white text-slate-600 shadow-sm hover:text-indigo-600 transition-colors",children:"-"}),o.jsx("span",{className:"w-12 text-center font-bold text-slate-900",children:l}),o.jsx("button",{onClick:()=>u(Math.min(v,l+1)),className:"w-10 h-10 flex items-center justify-center rounded-full bg-white text-slate-600 shadow-sm hover:text-indigo-600 transition-colors",children:"+"})]})]})]}),o.jsxs("div",{className:"mt-auto border-t border-slate-200/60 pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-3xl font-bold text-slate-900",children:a(h*l)}),!b&&o.jsx("span",{className:"text-red-500 text-xs font-bold uppercase",children:"Agotado"}),b&&v<5&&o.jsxs("span",{className:"text-orange-500 text-xs font-bold animate-pulse",children:["ltimas ",v," unidades!"]})]}),o.jsxs("div",{className:"flex gap-2 text-[10px] text-slate-400 uppercase tracking-wider font-bold",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Mn,{size:12})," Envo Rpido"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(vr,{size:12})," Garanta"]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:_,disabled:d||!b,className:`
                                flex-[2] py-4 px-6 rounded-2xl font-bold text-white shadow-lg shadow-indigo-500/20 transition-all flex items-center justify-center gap-2
                                ${b?d?"bg-emerald-500":"bg-slate-900 hover:bg-slate-800 hover:shadow-xl hover:-translate-y-1":"bg-slate-300 cursor-not-allowed"}
                            `,children:[d?o.jsx(yr,{size:20,className:"animate-bounce"}):o.jsx(vt,{size:20}),d?"Listo!":"Aadir al Carrito"]}),o.jsxs("button",{onClick:S,className:"flex-1 py-4 px-4 border border-slate-200 rounded-2xl font-bold text-slate-700 hover:bg-slate-50 hover:border-slate-300 transition-all flex items-center justify-center group",children:["Detalles ",o.jsx(me,{size:18,className:"ml-2 group-hover:translate-x-1 transition-transform"})]})]})]})]})]})]})});return ht.createPortal(w,document.body)},gr=3,Et=re(we((e,t)=>({compareItems:[],isCompareBarOpen:!1,addItem:r=>{e(n=>n.compareItems.some(s=>s.id===r.id)?(T.info(`"${r.name}" ya est en tu lista de comparacin.`),n):n.compareItems.length>=gr?(T.error(`Solo puedes comparar hasta ${gr} productos. Elimina uno para aadir otro.`),n):(T.success(`"${r.name}" aadido para comparar.`),{compareItems:[...n.compareItems,r],isCompareBarOpen:!0}))},removeItem:r=>{e(n=>{const s=n.compareItems.filter(a=>a.id!==r);return s.length<n.compareItems.length&&T.error("Producto eliminado de la comparacin."),{compareItems:s,isCompareBarOpen:s.length>0}})},clearItems:()=>{e({compareItems:[],isCompareBarOpen:!1}),T("Lista de comparacin vaciada.",{icon:""})},toggleCompareBar:()=>e(r=>({isCompareBarOpen:!r.isCompareBarOpen})),getCompareItems:()=>t().compareItems}),{name:"compare-storage",partialize:e=>({compareItems:e.compareItems})})),xu=[{id:"Work",label:"Trabajo / Productividad",icon:Ln,color:"text-blue-500",bg:"bg-blue-50"},{id:"Travel",label:"Viajes / Movilidad",icon:Fn,color:"text-emerald-500",bg:"bg-emerald-50"},{id:"Gaming",label:"Gaming / Ocio",icon:Un,color:"text-purple-500",bg:"bg-purple-50"}],bu=({onComplete:e})=>{const{compareItems:t}=Et(),[r,n]=g.useState(null),s=a=>{n(a);const i=t.find(c=>c.tags?.includes(a));setTimeout(()=>{e(i?i.id:null,a)},600)};return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx($e,{className:"text-indigo-600",size:20}),o.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Tech Advisor"})]}),o.jsxs("p",{className:"text-slate-500 text-sm mb-6",children:["Cul ser el uso principal de tu nuevo equipo?",o.jsx("br",{}),"Nuestra IA te recomendar la mejor opcin tcnica."]}),o.jsx("div",{className:"space-y-3",children:xu.map(a=>o.jsxs(j.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>s(a.id),className:`w-full flex items-center p-4 rounded-xl border transition-all ${r===a.id?"border-indigo-600 bg-indigo-50 ring-1 ring-indigo-600":"border-slate-200 bg-white hover:bg-slate-50 hover:border-slate-300"}`,children:[o.jsx("div",{className:`p-2 rounded-lg ${a.bg} ${a.color} mr-4`,children:o.jsx(a.icon,{size:20})}),o.jsx("span",{className:"font-semibold text-slate-700 text-sm",children:a.label}),r===a.id&&o.jsx(yr,{size:18,className:"ml-auto text-indigo-600"})]},a.id))})]})},vu=({isOpen:e,onClose:t})=>{const{compareItems:r,removeItem:n}=Et(),s=L(p=>p.addToCart),[a,i]=g.useState(null),[c,l]=g.useState(!1);if(g.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const u=p=>{if(r.length<2)return null;let h=-1/0,b=1/0,v=null;return r.forEach(_=>{const S=_.specs?.[p]||"",w=parseFloat(S.replace(/[^0-9.]/g,""));isNaN(w)||(p==="Weight"?w<b&&(b=w,v=_.id):w>h&&(h=w,v=_.id))}),v},d=[{key:"Battery Life",label:"Batera",icon:Hn},{key:"Weight",label:"Peso",icon:wr},{key:"Connectivity",label:"Conectividad",icon:Vn},{key:"Release Year",label:"Ao",icon:Wn},{key:"Warranty",label:"Garanta",icon:vr}],m=()=>{T.success("Enlace de comparativa copiado al portapapeles")};return ht.createPortal(o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[o.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-slate-900/60 backdrop-blur-xl"}),o.jsxs(j.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},className:"relative w-full max-w-6xl max-h-[90vh] bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row",children:[o.jsx("button",{onClick:t,className:"absolute top-4 right-4 z-50 p-2 bg-white/50 hover:bg-white rounded-full transition-colors",children:o.jsx(G,{size:20})}),o.jsxs("div",{className:"w-full md:w-80 bg-slate-50 border-r border-slate-100 flex flex-col",children:[o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"Comparador Inteligente"}),o.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Analizando especificaciones tcnicas para tu perfil de uso."}),!c&&!a&&o.jsxs("button",{onClick:()=>l(!0),className:"w-full py-3 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-semibold shadow-lg shadow-indigo-500/20 flex items-center justify-center gap-2 transition-all",children:[o.jsx($e,{size:18})," Asistente IA"]}),o.jsx(R,{children:c&&o.jsx(j.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:o.jsx(bu,{onComplete:(p,h)=>{i(p),l(!1),T.custom(b=>o.jsxs("div",{className:`${b.visible?"animate-enter":"animate-leave"} bg-indigo-900 text-white px-6 py-4 rounded-xl shadow-xl flex items-center gap-4`,children:[o.jsx($e,{className:"text-yellow-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold",children:"Anlisis Completado"}),o.jsxs("p",{className:"text-sm opacity-90",children:["La mejor opcin para ",o.jsx("span",{className:"font-bold text-yellow-300",children:h})," ha sido resaltada."]})]})]}))}})})}),a&&o.jsxs("div",{className:"mt-6 p-4 bg-indigo-50 border border-indigo-100 rounded-xl",children:[o.jsxs("div",{className:"flex items-center gap-2 text-indigo-700 font-bold mb-2",children:[o.jsx(qn,{size:18})," Recomendacin"]}),o.jsx("p",{className:"text-xs text-indigo-600 leading-relaxed",children:"Basado en tus necesidades, este modelo ofrece el mejor equilibrio entre rendimiento y caractersticas."}),o.jsx("button",{onClick:()=>i(null),className:"text-xs text-slate-400 mt-2 underline",children:"Reiniciar"})]})]}),o.jsx("div",{className:"mt-auto p-6 border-t border-slate-200",children:o.jsxs("button",{onClick:m,className:"flex items-center gap-2 text-sm text-slate-500 hover:text-slate-900 transition-colors",children:[o.jsx(Bn,{size:16})," Compartir Comparativa"]})})]}),o.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar bg-white relative",children:o.jsxs("div",{className:"min-w-max p-8",children:[o.jsxs("div",{className:"grid gap-8",style:{gridTemplateColumns:`100px repeat(${r.length}, minmax(200px, 1fr))`},children:[o.jsx("div",{className:"pt-20 font-bold text-slate-300 text-sm uppercase tracking-widest",children:"Specs"}),r.map(p=>o.jsxs("div",{className:`relative flex flex-col items-center text-center p-4 rounded-2xl transition-all ${a===p.id?"bg-indigo-50 ring-2 ring-indigo-500 shadow-xl scale-105 z-10":""}`,children:[a===p.id&&o.jsxs("div",{className:"absolute -top-3 bg-indigo-600 text-white px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider shadow-lg flex items-center gap-1",children:[o.jsx($e,{size:10})," Top Pick"]}),o.jsx("div",{className:"h-32 w-full mb-4 relative",children:o.jsx(Re,{src:p.image,className:"w-full h-full object-contain"})}),o.jsx("h3",{className:"font-bold text-slate-900 leading-tight mb-1",children:p.name}),o.jsxs("p",{className:"text-slate-500 text-sm mb-4",children:["$",p.price]}),o.jsx("button",{onClick:()=>s(p),className:"w-full py-2 bg-slate-900 text-white rounded-lg text-sm font-bold hover:bg-indigo-600 transition-colors",children:"Aadir"}),o.jsx("button",{onClick:()=>n(p.id),className:"mt-2 text-xs text-slate-300 hover:text-red-500",children:"Remover"})]},p.id))]}),o.jsx("div",{className:"mt-8 space-y-2",children:d.map(p=>{const h=u(p.key);return o.jsxs("div",{className:"grid gap-8 py-4 border-b border-slate-50 hover:bg-slate-50/50 transition-colors rounded-lg",style:{gridTemplateColumns:`100px repeat(${r.length}, minmax(200px, 1fr))`},children:[o.jsxs("div",{className:"flex flex-col justify-center text-xs font-bold text-slate-400 uppercase tracking-wider",children:[o.jsx(p.icon,{size:16,className:"mb-1"}),p.label]}),r.map(b=>{const v=h===b.id,_=b.specs?.[p.key]||"-";return o.jsx("div",{className:"flex items-center justify-center",children:o.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${v?"bg-emerald-100 text-emerald-700 font-bold":"text-slate-600"}`,children:_})},b.id)})]},p.key)})})]})})]})]}),document.body)},yu=()=>{const{compareItems:e,removeItem:t,clearItems:r,isCompareBarOpen:n,toggleCompareBar:s}=Et(),[a,i]=g.useState(!1);return e.length===0?null:o.jsxs(o.Fragment,{children:[o.jsx(R,{children:n&&o.jsxs(j.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",stiffness:260,damping:20},className:"fixed bottom-20 left-4 right-4 md:left-auto md:right-8 md:bottom-8 md:w-96 bg-white/90 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/50 z-40 overflow-hidden ring-1 ring-slate-900/5",children:[o.jsxs("div",{className:"bg-slate-900/95 backdrop-blur px-4 py-3 flex items-center justify-between text-white",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wr,{size:18,className:"text-indigo-400"}),o.jsxs("span",{className:"font-semibold text-sm tracking-wide",children:["Comparador (",e.length,")"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:r,className:"text-[10px] uppercase font-bold text-slate-400 hover:text-white transition-colors",children:"Limpiar"}),o.jsx("button",{onClick:s,className:"text-slate-400 hover:text-white transition-colors",children:o.jsx(G,{size:18})})]})]}),o.jsx("div",{className:"p-4 max-h-60 overflow-y-auto custom-scrollbar",children:o.jsx("div",{className:"space-y-3",children:e.map(c=>o.jsxs(j.div,{layoutId:`compare-item-${c.id}`,className:"flex items-center justify-between group bg-white/50 p-2 rounded-lg border border-transparent hover:border-slate-200 transition-all",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:c.image,alt:c.name,className:"w-10 h-10 rounded-md object-cover bg-slate-100"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:c.name}),o.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:["$",c.price]})]})]}),o.jsx("button",{onClick:()=>t(c.id),className:"text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all p-1",children:o.jsx(G,{size:16})})]},c.id))})}),o.jsxs("div",{className:"p-4 bg-slate-50/50 border-t border-slate-100",children:[o.jsxs("button",{onClick:()=>i(!0),disabled:e.length<2,className:`flex items-center justify-center w-full py-3 rounded-xl font-bold text-sm transition-all shadow-lg ${e.length>1?"bg-indigo-600 text-white hover:bg-indigo-700 shadow-indigo-500/25 hover:shadow-indigo-500/40 hover:-translate-y-0.5":"bg-slate-200 text-slate-400 cursor-not-allowed shadow-none"}`,children:["Comparar Ahora ",o.jsx(me,{size:16,className:"ml-2"})]}),e.length<2&&o.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-2",children:"Aade al menos 2 productos"})]})]})}),o.jsx(vu,{isOpen:a,onClose:()=>i(!1)})]})},wu=()=>{const[e,t]=g.useState(!1);g.useEffect(()=>{const n=()=>{window.scrollY>500?t(!0):t(!1)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]);const r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return o.jsx(R,{children:e&&o.jsx(j.button,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},onClick:r,className:"fixed bottom-8 right-8 z-50 p-3 bg-slate-900 text-white rounded-full shadow-lg hover:bg-indigo-600 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500","aria-label":"Volver arriba",children:o.jsx(Jn,{size:20})})})},ju=({children:e})=>o.jsxs("div",{className:"flex flex-col min-h-screen bg-slate-50 font-sans text-slate-900",children:[o.jsx(mu,{}),o.jsx(xo,{position:"top-right",toastOptions:{duration:4e3}}),o.jsx(iu,{}),o.jsx(lu,{}),o.jsx(uu,{}),o.jsx(gu,{}),o.jsx(yu,{}),o.jsx("main",{className:"flex-grow w-full",children:e}),o.jsx(wu,{}),o.jsx(cu,{})]}),xr=({children:e})=>{const t=pn(n=>n.isAuthenticated),r=xt();return t?e:o.jsx(bn,{to:"/login",state:{from:r},replace:!0})},_u=()=>{const{pathname:e}=xt();return g.useEffect(()=>{window.scrollTo(0,0)},[e]),null};class Nu extends g.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error",t,r)}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 px-4",children:o.jsxs("div",{className:"text-center max-w-md",children:[o.jsx("div",{className:"bg-red-50 text-red-500 p-4 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:o.jsx(Gn,{size:40})}),o.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Algo sali mal"}),o.jsx("p",{className:"text-slate-500 mb-8",children:"Ha ocurrido un error inesperado. Nuestro equipo ha sido notificado."}),o.jsxs("button",{onClick:()=>{this.setState({hasError:!1}),window.location.reload()},className:"px-8 py-3 bg-slate-900 text-white rounded-full font-medium hover:bg-slate-800 transition-colors flex items-center gap-2 mx-auto shadow-lg shadow-slate-900/20",children:[o.jsx(Kn,{size:18})," Recargar Pgina"]})]})}):this.props.children}}const ku=()=>o.jsx("div",{className:"min-h-[80vh] flex items-center justify-center bg-slate-50 px-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-9xl font-extrabold text-slate-200",children:"404"}),o.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative -top-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Pgina no encontrada"}),o.jsx("p",{className:"text-slate-500 mb-8 max-w-md mx-auto",children:"Lo sentimos, la pgina que buscas no existe o ha sido movida a otra dimensin tecnolgica."}),o.jsxs(E,{to:"/",className:"inline-flex items-center gap-2 px-8 py-3 bg-slate-900 text-white rounded-full font-medium hover:bg-slate-800 transition-all shadow-lg hover:shadow-xl hover:-translate-y-1",children:[o.jsx(Qn,{size:18}),"Volver al Inicio"]})]})]})}),zu=D.lazy(()=>ve(()=>import("./HomePage-BRcTC-76.js"),__vite__mapDeps([0,1,2,3,4,5]))),Cu=D.lazy(()=>ve(()=>import("./ProductPage-BpLlwSPO.js"),__vite__mapDeps([6,1,2,4,3,5]))),Su=D.lazy(()=>ve(()=>import("./LoginPage-BIScAX9n.js"),__vite__mapDeps([7,1,2,5,4]))),$u=D.lazy(()=>ve(()=>import("./CheckoutPage-e1zRusnV.js"),__vite__mapDeps([8,1,2,5,4]))),Tu=D.lazy(()=>ve(()=>import("./ProfilePage-BrRlXTOG.js"),__vite__mapDeps([9,1,2,5,4]))),Eu=new gn({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1}}}),Ou=()=>o.jsx("div",{className:"flex justify-center items-center h-[80vh]",children:o.jsx(Yn,{className:"h-10 w-10 animate-spin text-slate-900"})}),Iu=()=>{const e=xt();return o.jsx(R,{mode:"wait",children:o.jsxs(yn,{location:e,children:[o.jsx(oe,{path:"/",element:o.jsx(ie,{children:o.jsx(zu,{})})}),o.jsx(oe,{path:"/producto/:slug",element:o.jsx(ie,{children:o.jsx(Cu,{})})}),o.jsx(oe,{path:"/login",element:o.jsx(ie,{children:o.jsx(Su,{})})}),o.jsx(oe,{path:"/checkout",element:o.jsx(xr,{children:o.jsx(ie,{children:o.jsx($u,{})})})}),o.jsx(oe,{path:"/profile",element:o.jsx(xr,{children:o.jsx(ie,{children:o.jsx(Tu,{})})})}),o.jsx(oe,{path:"*",element:o.jsx(ie,{children:o.jsx(ku,{})})})]},e.pathname)})},ie=({children:e})=>o.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:e}),Pu=()=>{const e=L(t=>t.syncStock);return D.useEffect(()=>{e();const t=()=>e();return window.addEventListener("focus",t),()=>window.removeEventListener("focus",t)},[e]),null},Au=()=>o.jsx(Nu,{children:o.jsx(xn,{client:Eu,children:o.jsxs(vn,{children:[o.jsx(Pu,{}),o.jsx(_u,{}),o.jsx(ju,{children:o.jsx(g.Suspense,{fallback:o.jsx(Ou,{}),children:o.jsx(Iu,{})})})]})})});tt.createRoot(document.getElementById("root")).render(o.jsx(D.StrictMode,{children:o.jsx(Sr,{children:o.jsx(Au,{})})}));export{Mu as H,su as I,Re as S,mt as a,Et as b,hu as c,lu as d,Xl as e,Fu as f,Lu as g,pn as h,we as p,L as u,T as z};
