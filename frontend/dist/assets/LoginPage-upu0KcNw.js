import{j as e}from"./state-vendor-C7RdAvCM.js";import{u as k,b as A,r as d}from"./react-vendor-2QdgEHnk.js";import{b as M,z as f}from"./index-EUmTwGf3.js";import{S as G}from"./SEO-B0qwcuv7.js";import{I as v}from"./Input-DMr4qoup.js";import{S as _}from"./SmartImage-C9pcS1Sd.js";import{m,Z as D,A as O,U as P,Y as R,_ as F,L as H,b as U,$ as Y,p as Z}from"./ui-vendor-utBlUGSj.js";const X=()=>{const N=k(),S=A(),{login:C,register:z}=M(),E=S.state?.from?.pathname||"/",[t,I]=d.useState(!0),[s,w]=d.useState({name:"",email:"",password:""}),[x,u]=d.useState({}),[h,p]=d.useState({}),[n,j]=d.useState(!1),T=()=>{I(!t),w({name:"",email:"",password:""}),u({}),p({})},c=(o,a)=>o==="email"?/\S+@\S+\.\S+/.test(a)?"":"Correo electrónico inválido":o==="password"?a.length>=6?"":"Mínimo 6 caracteres":o==="name"&&!t?a.length>=3?"":"Mínimo 3 caracteres":"",g=o=>{const{name:a,value:i}=o.target;w(r=>({...r,[a]:i})),h[a]&&u(r=>({...r,[a]:c(a,i)}))},b=o=>{const{name:a,value:i}=o.target;p(r=>({...r,[a]:!0})),u(r=>({...r,[a]:c(a,i)}))},L=async o=>{o.preventDefault();const a=c("email",s.email),i=c("password",s.password),r=t?"":c("name",s.name);if(a||i||r){p({email:!0,password:!0,name:!t}),u({email:a,password:i,name:r});return}j(!0);const y=f.loading(t?"Iniciando sesión...":"Creando cuenta...");try{await new Promise(B=>setTimeout(B,1500));let l;if(t?l=C(s.email,s.password):l=z(s.name,s.email,s.password),l.success)f.success(t?"¡Bienvenido de nuevo!":"¡Cuenta creada con éxito!",{id:y}),N(E,{replace:!0});else throw new Error(l.message)}catch(l){f.error(l.message||"Ocurrió un error",{id:y}),j(!1)}};return e.jsxs("div",{className:"relative min-h-[100dvh] flex items-center justify-center overflow-hidden bg-slate-900",children:[e.jsx(G,{title:t?"Iniciar Sesión":"Crear Cuenta",description:"Accede a tu cuenta de TechNova y descubre ofertas exclusivas."}),e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1.5},className:"absolute inset-0 z-0",children:[e.jsx(_,{src:"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=2564&auto=format&fit=crop",alt:"Abstract Tech Background",className:"w-full h-full object-cover opacity-60"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/90 via-slate-900/60 to-slate-900/40 backdrop-blur-[2px]"})]}),e.jsx(m.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},transition:{duration:.5,ease:[.22,1,.36,1]},className:`
            relative z-10 w-full max-w-md mx-4 sm:mx-auto
            bg-white/80 backdrop-blur-2xl
            border border-white/20 shadow-2xl shadow-black/20
            rounded-[2.5rem] overflow-hidden
        `,children:e.jsxs("div",{className:"p-8 sm:p-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-2xl bg-slate-900 text-white shadow-lg shadow-indigo-500/30 mb-4 group",children:e.jsx(D,{size:24,className:"fill-white group-hover:scale-110 transition-transform duration-300"})}),e.jsxs(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsx("h1",{className:"text-2xl font-extrabold text-slate-900 mb-2",children:t?"Bienvenido":"Únete a TechNova"}),e.jsx("p",{className:"text-slate-500 text-sm font-medium",children:t?"Tu tecnología favorita te espera.":"Crea tu cuenta y empieza a explorar."})]},t?"login-header":"register-header")]}),e.jsxs("form",{className:"space-y-5",onSubmit:L,children:[e.jsx(O,{mode:"popLayout",children:!t&&e.jsx(m.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsx(v,{label:"Nombre",name:"name",type:"text",placeholder:"Tu nombre",value:s.name,onChange:g,onBlur:b,error:x.name,touched:h.name,icon:P,autoComplete:"name"})})}),e.jsx(v,{label:"Email",name:"email",type:"email",placeholder:"tucorreo@ejemplo.com",value:s.email,onChange:g,onBlur:b,error:x.email,touched:h.email,icon:R,autoComplete:"email",inputMode:"email"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{label:"Contraseña",name:"password",type:"password",placeholder:"••••••••",value:s.password,onChange:g,onBlur:b,error:x.password,touched:h.password,icon:F,autoComplete:t?"current-password":"new-password"}),t&&e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 transition-colors",children:"¿Olvidaste tu contraseña?"})})]}),e.jsxs(m.button,{type:"submit",disabled:n,whileHover:n?{}:{scale:1.02},whileTap:n?{}:{scale:.98},className:`
                        relative w-full h-12 flex justify-center items-center rounded-xl text-sm font-bold text-white shadow-xl
                        transition-all duration-300 overflow-hidden group mt-2
                        ${n?"cursor-not-allowed opacity-80":"hover:shadow-indigo-500/25"}
                    `,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 via-violet-600 to-indigo-600 bg-[length:200%_auto] animate-gradient-xy"}),!n&&e.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/20 to-transparent z-10"}),e.jsx("span",{className:"relative z-20 flex items-center gap-2",children:n?e.jsx(H,{className:"animate-spin",size:20}):e.jsxs(e.Fragment,{children:[t?"Entrar":"Registrarse"," ",e.jsx(U,{size:18})]})})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200/60",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[e.jsxs("button",{className:"flex items-center justify-center gap-2 py-2.5 rounded-xl border border-slate-200/80 bg-white/50 hover:bg-white text-slate-700 font-bold text-xs transition-all active:scale-95",children:[e.jsx(Y,{size:16,className:"text-blue-500"}),"Google"]}),e.jsxs("button",{className:"flex items-center justify-center gap-2 py-2.5 rounded-xl border border-slate-200/80 bg-white/50 hover:bg-white text-slate-700 font-bold text-xs transition-all active:scale-95",children:[e.jsx(Z,{size:16,className:"text-slate-900"}),"GitHub"]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-slate-500 text-xs font-medium",children:[t?"¿Nuevo en TechNova?":"¿Ya tienes cuenta?",e.jsx("button",{onClick:T,className:"ml-1.5 text-indigo-600 font-bold hover:underline focus:outline-none",children:t?"Crear cuenta gratis":"Iniciar sesión"})]})})]})]})})]})};export{X as default};
