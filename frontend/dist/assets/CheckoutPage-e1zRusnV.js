import{j as e}from"./state-vendor-BAyfclbw.js";import{u as S,r as d}from"./react-vendor-B0H9FLVV.js";import{u as c,I as l,z as b}from"./index-BOgsi-I6.js";import{S as g}from"./SEO-CzRH6sV6.js";import{o as u,m as o,a8 as j,a9 as f,K as T,p as N}from"./ui-vendor-y3VpOymC.js";const D=()=>{const x=S(),m=c(s=>s.cart),n=c(s=>s.getCartTotal()),v=c(s=>s.clearCart),[r,p]=d.useState(!1),[i,h]=d.useState(1),[t,y]=d.useState({firstName:"",lastName:"",address:"",city:"",zip:"",cardNumber:"",expDate:"",cvc:""}),a=s=>{y({...t,[s.target.name]:s.target.value})},w=()=>{if(!t.firstName||!t.address||!t.city){b.error("Por favor completa los campos obligatorios");return}h(2)},C=async s=>{s.preventDefault(),p(!0),await new Promise(P=>setTimeout(P,2e3)),p(!1),v(),b.success("¡Pedido confirmado! Te enviaremos los detalles por correo."),x("/")};return m.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center p-4",children:[e.jsx(g,{title:"Carrito Vacío",description:"Tu carrito de compras está vacío."}),e.jsx("div",{className:"bg-slate-100 p-6 rounded-full mb-4",children:e.jsx(u,{className:"w-12 h-12 text-slate-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Tu carrito está vacío"}),e.jsx("p",{className:"text-slate-500 mb-6",children:"Parece que aún no has añadido productos."}),e.jsx("button",{onClick:()=>x("/"),className:"bg-indigo-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-indigo-700 transition-all shadow-md hover:shadow-lg",children:"Explorar Productos"})]}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(g,{title:"Finalizar Compra",description:"Completa tu pedido de forma segura."}),e.jsx("h1",{className:"text-3xl font-extrabold text-slate-900 mb-8 lg:mb-12 text-center lg:text-left",children:"Finalizar Compra"}),e.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-x-12 lg:items-start",children:[e.jsxs("section",{className:"lg:col-span-7 bg-white rounded-2xl shadow-sm border border-slate-200 p-6 sm:p-8 mb-8 lg:mb-0",children:[e.jsxs("div",{className:"flex items-center mb-8 space-x-4 border-b border-slate-100 pb-6",children:[e.jsxs("div",{className:`flex items-center space-x-2 ${i===1?"text-indigo-600":"text-slate-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm transition-colors ${i===1?"bg-indigo-600 text-white":"bg-slate-200 text-slate-500"}`,children:"1"}),e.jsx("span",{className:"font-semibold hidden sm:inline",children:"Envío"})]}),e.jsx("div",{className:"w-12 h-px bg-slate-300"}),e.jsxs("div",{className:`flex items-center space-x-2 ${i===2?"text-indigo-600":"text-slate-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm transition-colors ${i===2?"bg-indigo-600 text-white":"bg-slate-200 text-slate-500"}`,children:"2"}),e.jsx("span",{className:"font-semibold hidden sm:inline",children:"Pago"})]})]}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[i===1&&e.jsxs(o.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2 mb-6",children:[e.jsx(j,{className:"text-indigo-500"}),"Dirección de Envío"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2",children:[e.jsx(l,{label:"Nombre",name:"firstName",placeholder:"Juan",value:t.firstName,onChange:a}),e.jsx(l,{label:"Apellido",name:"lastName",placeholder:"Pérez",value:t.lastName,onChange:a}),e.jsx("div",{className:"sm:col-span-2",children:e.jsx(l,{label:"Dirección",name:"address",placeholder:"Av. Principal 123",value:t.address,onChange:a,icon:j})}),e.jsx(l,{label:"Ciudad",name:"city",placeholder:"Ciudad de México",value:t.city,onChange:a}),e.jsx(l,{label:"Código Postal",name:"zip",placeholder:"00000",value:t.zip,onChange:a})]}),e.jsx(o.button,{type:"button",whileTap:{scale:.98},onClick:w,className:"w-full mt-6 bg-indigo-600 text-white py-3 rounded-lg font-bold hover:bg-indigo-700 transition-colors shadow-md",children:"Continuar al Pago"})]}),i===2&&e.jsxs(o.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2 mb-6",children:[e.jsx(f,{className:"text-indigo-500"}),"Método de Pago"]}),e.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-200 mb-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("input",{id:"card",name:"payment-type",type:"radio",defaultChecked:!0,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),e.jsx("label",{htmlFor:"card",className:"ml-3 block text-sm font-medium text-slate-700 font-semibold",children:"Tarjeta de Crédito / Débito"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(l,{label:"Número de Tarjeta",name:"cardNumber",placeholder:"0000 0000 0000 0000",value:t.cardNumber,onChange:a,icon:f}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(l,{label:"Fecha Exp.",name:"expDate",placeholder:"MM/YY",value:t.expDate,onChange:a}),e.jsx(l,{label:"CVC",name:"cvc",placeholder:"123",value:t.cvc,onChange:a,type:"password"})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:()=>h(1),className:"w-1/3 bg-white text-slate-700 border border-slate-300 py-3 rounded-lg font-bold hover:bg-slate-50 transition-colors",children:"Atrás"}),e.jsxs(o.button,{type:"submit",disabled:r,whileTap:r?{}:{scale:.98},className:"w-2/3 flex justify-center items-center bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed shadow-md",children:[r?e.jsx(T,{className:"animate-spin mr-2"}):e.jsx(N,{className:"mr-2",size:18}),r?"Procesando...":`Pagar $${n.toFixed(2)}`]})]})]})]})]}),e.jsxs("section",{className:"lg:col-span-5 bg-slate-100 rounded-2xl p-6 sm:p-8 lg:sticky lg:top-24",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-6",children:"Resumen del Pedido"}),e.jsx("ul",{className:"divide-y divide-slate-200 mb-6 max-h-[300px] overflow-y-auto pr-2",children:m.map(s=>e.jsxs("li",{className:"py-4 flex items-start space-x-4",children:[e.jsx("img",{src:s.image,alt:s.name,className:"flex-none w-16 h-16 rounded-lg object-cover bg-white shadow-sm"}),e.jsxs("div",{className:"flex-auto space-y-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:s.name}),e.jsxs("p",{className:"text-xs text-slate-500 bg-white inline-block px-2 py-1 rounded-md border border-slate-200",children:["Cant: ",s.quantity]})]}),e.jsxs("p",{className:"flex-none text-sm font-bold text-slate-900",children:["$",(s.price*s.quantity).toFixed(2)]})]},s.id))}),e.jsxs("div",{className:"border-t border-slate-300 pt-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600",children:[e.jsx("p",{children:"Subtotal"}),e.jsxs("p",{children:["$",n.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600",children:[e.jsx("p",{children:"Envío"}),e.jsxs("p",{className:"text-green-600 font-medium flex items-center gap-1",children:[e.jsx(u,{size:14})," Gratis"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xl font-extrabold text-slate-900 pt-4 border-t border-slate-300 mt-4",children:[e.jsx("p",{children:"Total"}),e.jsxs("p",{children:["$",n.toFixed(2)]})]})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-center space-x-2 text-slate-500 text-xs bg-slate-200 py-3 rounded-lg",children:[e.jsx(N,{size:16,className:"text-green-600"}),e.jsx("span",{children:"Pago encriptado SSL de 256-bits"})]})]})]})]})};export{D as default};
